(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[24],{1590:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o,s,l,b,u=n(2),j=n(88),d=n(453),p=n(21),m=n(0),x=n.n(m),O=n(85),f=n(954),h=n(13),g=n(7),k=n(1),v=Object(g.e)(u.p)(c||(c=Object(h.a)(["\n  background-image: url('/images/ifos/assets/ifo-banner-",".png');\n  background-position: top, center;\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n"])),(function(e){return e.theme.isDark?"dark":"light"})),y=Object(g.e)(u.eb)(a||(a=Object(h.a)(["\n  font-size: 40px;\n\n  "," {\n    font-size: 64px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),w=Object(g.e)(u.u)(r||(r=Object(h.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 4px 13px;\n  height: auto;\n  text-transform: uppercase;\n  align-self: flex-start;\n  font-size: 12px;\n  box-shadow: ",";\n  border-radius: 8px;\n  margin-left: 8px;\n"])),(function(e){return e.theme.colors.tertiary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.shadows.inset})),S=Object(g.e)(u.u)(i||(i=Object(h.a)(["\n  align-self: flex-end;\n"]))),I=Object(g.e)(u.Fc)(o||(o=Object(h.a)(["\n  font-size: 16px;\n\n  "," {\n    font-size: 20px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),C=function(){var e=Object(p.b)().t,t=Object(u.jd)().isMobile,n=function(){var e;null===(e=document.getElementById("ifo-how-to"))||void 0===e||e.scrollIntoView()};return Object(k.jsx)(u.p,{mb:"8px",children:Object(k.jsx)(v,{py:["16px","16px","32px"],minHeight:["212px","212px","197px"],children:Object(k.jsx)(d.a,{children:Object(k.jsxs)(u.cb,{justifyContent:"space-between",flexDirection:["column","column","column","row"],style:{gap:"4px"},children:[Object(k.jsxs)(u.p,{children:[Object(k.jsx)(y,{as:"h1",mb:["12px","12px","16px"],children:e("IFO: Initial Farm Offerings")}),Object(k.jsxs)(I,{bold:!0,children:[e("Buy new tokens launching on Binance Smart Chain"),t&&Object(k.jsx)(w,{onClick:n,children:e("How does it work?")})]})]}),!t&&Object(k.jsx)(S,{onClick:n,variant:"subtle",children:e("How does it work?")})]})})})})},A=n(43),F=n(3),P=n.n(F),T=n(5),D=n(11),L=n(8),E=n(30),B=n.n(E),U=n(109),K=n(473),z=n(33),R=n(81),M=n(303),N=n(45),H=n(57),V=function(e,t,n){return 0===e?"idle":e<t?"coming_soon":e>=t&&e<=n?"live":e>n?"finished":"idle"},G=R.a.FixedNumber.from(1e10),W=function(e){return{raisingAmountPool:e?new B.a(e[0].toString()):N.c,offeringAmountPool:e?new B.a(e[1].toString()):N.c,limitPerUserInLP:e?new B.a(e[2].toString()):N.c,hasTax:!!e&&e[3],totalAmountPool:e?new B.a(e[4].toString()):N.c,sumTaxesOverflow:e?new B.a(e[5].toString()):N.c}},Q=function(e){var t=e.address,n=e.releaseBlockNumber,c=Object(M.f)(),a=Object(M.c)(e.currency.symbol),r=e.currency===z.a.cake?c:a,i=Object(m.useState)({isInitialized:!1,status:"idle",blocksRemaining:0,secondsUntilStart:0,progress:5,secondsUntilEnd:0,poolBasic:{raisingAmountPool:N.c,offeringAmountPool:N.c,limitPerUserInLP:N.c,taxRate:0,totalAmountPool:N.c,sumTaxesOverflow:N.c},poolUnlimited:{raisingAmountPool:N.c,offeringAmountPool:N.c,limitPerUserInLP:N.c,taxRate:0,totalAmountPool:N.c,sumTaxesOverflow:N.c},thresholdPoints:void 0,startBlockNum:0,endBlockNum:0,numberPoints:0}),o=Object(L.a)(i,2),s=o[0],l=o[1],b=Object(m.useCallback)(function(){var e=Object(D.a)(P.a.mark((function e(c){var a,r,i,o,s,b,u,j,d,p,m,x,O,f,h,g,k,v;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.b)(K,[{address:t,name:"startBlock"},{address:t,name:"endBlock"},{address:t,name:"viewPoolInformation",params:[0]},{address:t,name:"viewPoolInformation",params:[1]},{address:t,name:"viewPoolTaxRateOverflow",params:[1]},{address:t,name:"numberPoints"},{address:t,name:"thresholdPoints"}]);case 2:a=e.sent,r=Object(L.a)(a,7),i=r[0],o=r[1],s=r[2],b=r[3],u=r[4],j=r[5],d=r[6],p=W(s),m=W(b),x=i?i[0].toNumber():0,O=o?o[0].toNumber():0,f=u?R.a.FixedNumber.from(u[0]).divUnsafe(G).toUnsafeFloat():0,h=V(c,x,O),g=O-x,k=O-c,v=c>x?(c-x)/g*100:(c-n)/(x-n)*100,l((function(e){return Object(T.a)(Object(T.a)({},e),{},{isInitialized:!0,secondsUntilEnd:k*U.h,secondsUntilStart:(x-c)*U.h,poolBasic:Object(T.a)(Object(T.a)({},p),{},{taxRate:0}),poolUnlimited:Object(T.a)(Object(T.a)({},m),{},{taxRate:f}),status:h,progress:v,blocksRemaining:k,startBlockNum:x,endBlockNum:O,thresholdPoints:d&&d[0],numberPoints:j?j[0].toNumber():0})}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t]);return Object(T.a)(Object(T.a)({},s),{},{currencyPriceInUSD:r,fetchIfoData:b})},$=n(14),Y=n(83),_=n(457),q=n(115),J=function(e,t,n){var c=Object(j.c)().account,a=Object(m.useState)(N.c),r=Object(L.a)(a,2),i=r[0],o=r[1];return Object(m.useEffect)((function(){c&&function(){var n=Object(D.a)(P.a.mark((function n(){var a;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.allowance(c,t);case 3:a=n.sent,o(new B.a(a.toString())),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()()}),[c,t,e,n]),i},X={isInitialized:!1,poolBasic:{amountTokenCommittedInLP:N.c,offeringAmountInToken:N.c,refundingAmountInLP:N.c,taxAmountInLP:N.c,hasClaimed:!1,isPendingTx:!1},poolUnlimited:{amountTokenCommittedInLP:N.c,offeringAmountInToken:N.c,refundingAmountInLP:N.c,taxAmountInLP:N.c,hasClaimed:!1,isPendingTx:!1}},Z=function(e){var t=Object(m.useState)(X),n=Object(L.a)(t,2),c=n[0],a=n[1],r=Object(q.b)(),i=Object(f.f)(),o=e.address,s=e.currency,l=Object(j.c)().account,b=Object(Y.j)(o),u=Object(Y.f)(s.address),d=J(u,o),p=Object(m.useCallback)(Object(D.a)(P.a.mark((function e(){var t,n,c,i,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["viewUserInfo","viewUserOfferingAndRefundingAmountsForPools"].map((function(e){return{address:o,name:e,params:[l,[0,1]]}})),r(Object(_.g)({account:l})),e.next=4,Object(H.b)(K,t);case 4:n=e.sent,c=Object(L.a)(n,2),i=c[0],s=c[1],a((function(e){return Object(T.a)(Object(T.a)({},e),{},{isInitialized:!0,poolBasic:Object(T.a)(Object(T.a)({},e.poolBasic),{},{amountTokenCommittedInLP:new B.a(i[0][0].toString()),offeringAmountInToken:new B.a(s[0][0][0].toString()),refundingAmountInLP:new B.a(s[0][0][1].toString()),taxAmountInLP:new B.a(s[0][0][2].toString()),hasClaimed:i[1][0]}),poolUnlimited:Object(T.a)(Object(T.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:new B.a(i[0][1].toString()),offeringAmountInToken:new B.a(s[0][1][0].toString()),refundingAmountInLP:new B.a(s[0][1][1].toString()),taxAmountInLP:new B.a(s[0][1][2].toString()),hasClaimed:i[1][1]})})}));case 9:case"end":return e.stop()}}),e)}))),[l,o,r]),x=Object(m.useCallback)((function(){a(Object(T.a)({},X))}),[]),O={credit:i,creditLeft:i.minus(c.poolBasic.amountTokenCommittedInLP).minus(c.poolUnlimited.amountTokenCommittedInLP)};return Object(T.a)(Object(T.a)({},c),{},{allowance:d,contract:b,setPendingTx:function(e,t){return a((function(n){return Object(T.a)(Object(T.a)({},n),{},Object($.a)({},t,Object(T.a)(Object(T.a)({},n[t]),{},{isPendingTx:e})))}))},setIsClaimed:function(e){a((function(t){return Object(T.a)(Object(T.a)({},t),{},Object($.a)({},e,Object(T.a)(Object(T.a)({},t[e]),{},{hasClaimed:!0})))}))},fetchIfoData:p,resetIfoData:x,ifoCredit:O})},ee=n(205),te=n(10),ne=n(183),ce=n(226),ae=n(153),re=n(312),ie=n(305),oe=function(e,t){var n=Object(ie.a)().callWithGasPrice;return Object(m.useCallback)(Object(D.a)(P.a.mark((function c(){var a;return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n(e,"approve",[t,R.a.constants.MaxUint256]);case 2:return a=c.sent,c.abrupt("return",a.wait());case 4:case"end":return c.stop()}}),c)}))),[t,e,n])},se=n(40),le=n(106),be=n(1018),ue=function(e){return Object(k.jsxs)(u.vc,Object(T.a)(Object(T.a)({viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(k.jsx)("path",{d:"M10.037 6a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5zM9.287 9.75a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM10.037 12a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5z"}),Object(k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.287 4a2 2 0 012-2h13a2 2 0 012 2v15c0 1.66-1.34 3-3 3h-14c-1.66 0-3-1.34-3-3v-2c0-.55.45-1 1-1h2V4zm0 16h11v-2h-12v1c0 .55.45 1 1 1zm14 0c.55 0 1-.45 1-1V4h-13v12h10c.55 0 1 .45 1 1v2c0 .55.45 1 1 1z"})]}))},je=N.b,de=Object(g.e)(u.cb)(s||(s=Object(h.a)(["\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  text-align: left;\n  "," {\n    flex-direction: row;\n    align-items: initial;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),pe=Object(g.e)(u.cb)(l||(l=Object(h.a)(["\n  ",";\n  text-align: left;\n"])),(function(e){return e.isFinished?"filter: grayscale(100%)":""})),me=Object(g.e)(u.cb)(b||(b=Object(h.a)(["\n  display: inline-flex;\n  vertical-align: top;\n"]))),xe=function(e){var t,n=e.ifo,c=e.publicIfoData,a=Object(p.b)().t,r=null===(t=n.token.symbol)||void 0===t?void 0:t.toLowerCase(),i=n.name,o=c.thresholdPoints?Object(le.a)(c.thresholdPoints,3):je.div(c.currencyPriceInUSD).toNumber().toFixed(3);return Object(k.jsxs)(de,{p:"16px",pb:"32px",children:[Object(k.jsxs)(pe,{isFinished:"finished"===c.status,alignItems:"flex-start",flex:1,children:[Object(k.jsx)(u.ib,{src:"/images/achievements/ifo-".concat(r,".svg"),width:56,height:56,mr:"8px"}),Object(k.jsxs)(u.cb,{flexDirection:"column",ml:"8px",children:[Object(k.jsx)(u.Fc,{color:"secondary",fontSize:"12px",children:"".concat(a("Achievement"),":")}),Object(k.jsx)(u.cb,{children:Object(k.jsxs)(u.Fc,{bold:!0,mr:"8px",lineHeight:1.2,children:[a("IFO Shopper: %title%",{title:i}),Object(k.jsxs)(me,{alignItems:"center",ml:"8px",children:[Object(k.jsx)(u.Zb,{color:"textSubtle",width:"16px",mr:"4px"}),Object(k.jsx)(u.Fc,{lineHeight:1.2,color:"textSubtle",children:c.numberPoints})]})]})}),c.currencyPriceInUSD.gt(0)?Object(k.jsx)(u.Fc,{color:"textSubtle",fontSize:"12px",children:a("Commit ~%amount% %symbol% in total to earn!",{amount:o,symbol:n.currency===z.a.cake?"CAKE":"LP"})}):Object(k.jsx)(u.kc,{minHeight:18,width:80}),Object(k.jsxs)(be.a,{gap:"16px",pt:"24px",pl:"4px",children:[Object(k.jsx)(u.sb,{external:!0,href:n.articleUrl,children:Object(k.jsx)(u.ob,{color:"textSubtle"})}),Object(k.jsx)(u.sb,{external:!0,href:Object(se.e)(n.address,"address"),children:Object(k.jsx)(ue,{color:"textSubtle"})}),n.twitterUrl&&Object(k.jsx)(u.sb,{external:!0,href:n.twitterUrl,children:Object(k.jsx)(u.Tc,{color:"textSubtle"})}),n.telegramUrl&&Object(k.jsx)(u.sb,{external:!0,href:n.telegramUrl,children:Object(k.jsx)(u.Ec,{color:"textSubtle"})})]})]})]}),n.description&&Object(k.jsx)(u.cb,{alignItems:"flex-end",flexDirection:"column",flex:1,pl:"16px",children:Object(k.jsx)(u.Fc,{fontSize:"14px",lineHeight:1.2,children:n.description})})]})},Oe=n(304),fe=n(69),he=n(318),ge=n(1042),ke=n(132),ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,c=Object(m.useState)(null),a=Object(L.a)(c,2),r=a[0],i=a[1],o=Object(m.useState)(!1),s=Object(L.a)(o,2),l=s[0],b=s[1],u=Object(m.useState)(Math.floor(Date.now()/1e3)),j=Object(L.a)(u,2),d=j[0],p=j[1];return Object(m.useEffect)((function(){var c=e+n-d,a=t.gt(0)&&c>0,r=setInterval((function(){p((function(e){return e+1}))}),1e3);return a?(i(c),b(!0)):(b(!1),clearInterval(r)),function(){return clearInterval(r)}}),[e,n,i,d,t]),{hasUnstakingFee:l,secondsRemaining:r}},ye=n(467),we=n(1039),Se=n(107),Ie=n(309),Ce=function(e){return Math.floor(e/86400)},Ae=n(17);Math.pow(10,8);var Fe,Pe,Te,De,Le=n(966),Ee=function(e){var t=e.secondsRemaining,n=Object(p.b)().t,c=Object(Le.a)(t),a=c.days,r=c.hours,i=c.minutes;return Object(k.jsx)(u.Fc,{fontSize:"14px",children:n("%day%d : %hour%h : %minute%m",{day:a,hour:r,minute:i})})},Be=function(e){var t=e.isTableVariant,n=e.vaultKey,c=Object(p.b)().t,a=Object(j.c)().account,r=Object(f.j)(n),i=r.userData,o=i.lastDepositedTime,s=i.userShares,l=r.fees,b=l.withdrawalFee,d=l.withdrawalFeePeriod,m=b/100||"-",x=d?Ce(d):"-",O=Object(u.md)(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Fc,{bold:!0,mb:"4px",children:c("Unstaking fee: %fee%%",{fee:m})}),Object(k.jsx)(u.Fc,{children:c("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:x})})]}),{placement:"bottom-start"}),h=O.targetRef,g=O.tooltip,v=O.tooltipVisible,y=ve(parseInt(o,10),s,d),w=y.secondsRemaining,S=y.hasUnstakingFee,I=o&&!S&&s.gt(0),C=a&&o&&S,A=d?function(e){Object(Ae.a)(1,arguments);var t=e/3600;return Math.floor(t)}(d):"-";return Object(k.jsxs)(u.cb,{alignItems:t?"flex-start":"center",justifyContent:"space-between",flexDirection:t?"column":"row",children:[v&&g,Object(k.jsxs)(u.Qc,{ref:h,small:!0,textTransform:"lowercase",children:[I?"0":m,"% ",I?c("Unstaking Fee"):C?c("unstaking fee until"):c("unstaking fee if withdrawn within %num%h",{num:A})]}),C&&Object(k.jsx)(Ee,{secondsRemaining:w})]})},Ue=function(e){var t=e.stakingTokenSymbol,n=e.stakeAmount,c=e.vaultKey,a=Object(p.b)().t,r=Object(f.j)(c),i=r.fees,o=i.withdrawalFee,s=i.withdrawalFeePeriod,l=r.userData.lastDepositedTime,b=o/100,j=(parseFloat(n)*(b/100)).toFixed(4),d=s?Ce(s):"-",m=Object(u.md)(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Fc,{bold:!0,mb:"4px",children:a("Unstaking fee: %fee%%",{fee:b})}),Object(k.jsx)(u.Fc,{children:a("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:d})})]}),{placement:"top-start"}),x=m.targetRef,O=m.tooltip,h=m.tooltipVisible,g=l&&function(e){var t=e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:259200),n=Math.floor(Date.now()/1e3);return t-n>0}(parseInt(l,10),s);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(u.cb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[h&&O,Object(k.jsx)(u.Qc,{ref:x,small:!0,children:a("Unstaking Fee")}),Object(k.jsxs)(u.Fc,{fontSize:"14px",children:[n&&g?j:"-"," ",t]})]}),Object(k.jsx)(Be,{vaultKey:c})]})},Ke=Object(g.e)(u.u)(Fe||(Fe=Object(h.a)(["\n  flex-grow: 1;\n"]))),ze=Object(g.e)(u.cb)(Pe||(Pe=Object(h.a)(["\n  cursor: pointer;\n"]))),Re=Object(g.e)(u.Fc)(Te||(Te=Object(h.a)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]))),Me=function(e){var t=e.pool,n=e.stakingMax,c=e.performanceFee,a=e.isRemovingStake,r=void 0!==a&&a,i=e.onDismiss,o=Object(q.b)(),s=t.stakingToken,l=t.earningToken,b=t.apr,d=t.rawApr,x=t.stakingTokenPrice,O=t.earningTokenPrice,h=t.vaultKey,g=Object(j.c)().account,v=Object(Y.w)(t.vaultKey),y=Object(ie.a)().callWithGasPrice,w=Object(f.j)(t.vaultKey),S=w.userData,I=S.lastDepositedTime,C=S.userShares,A=w.pricePerFullShare,F=Object(p.b)().t,T=Object(ke.a)().theme,E=Object(ce.a)(),U=E.toastSuccess,K=E.toastError,z=Object(m.useState)(!1),R=Object(L.a)(z,2),H=R[0],V=R[1],G=Object(m.useState)(""),W=Object(L.a)(G,2),Q=W[0],$=W[1],J=Object(m.useState)(0),X=Object(L.a)(J,2),Z=X[0],te=X[1],ne=Object(m.useState)(!1),ae=Object(L.a)(ne,2),re=ae[0],oe=ae[1],se=ve(parseInt(I,10),C).hasUnstakingFee,be=Object(M.f)(),ue=new B.a(Q).times(be),je=be.gt(0)&&Q?Object(le.e)(ue.toNumber()):"",de={gasLimit:Se.b[t.vaultKey].gasLimit},pe=Object(Ie.b)(C,A).cakeAsBigNumber,me=Object(ye.b)({principalInUSD:ue.isNaN()?0:ue.toNumber(),apr:h?d:b,earningTokenPrice:O,performanceFee:c})[3]*t.earningTokenPrice,xe=Object(le.e)(me,me>1e4?0:2,me>1e4?0:2),Oe=s.address?"/swap?outputCurrency=".concat(s.address):"/swap",fe=function(e){if(e>0){var t=n.dividedBy(100).multipliedBy(e),c=Object(le.i)(t,s.decimals,s.decimals);$(c)}else $("");te(e)},he=function(){var e=Object(D.a)(P.a.mark((function e(t){var n,c,a,r,s,l,b;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(!0),n=Object(Ie.a)(t,A),c=new B.a(1e12),a=C.minus(n.sharesAsBigNumber),!a.lte(c)){e.next=22;break}return e.prev=6,e.next=9,y(v,"withdrawAll",void 0,de);case 9:return r=e.sent,e.next=12,r.wait();case 12:(s=e.sent).status&&(U(F("Unstaked!"),Object(k.jsx)(ee.b,{txHash:s.transactionHash,children:F("Your earnings have also been harvested to your wallet")})),V(!1),i(),o(Object(_.d)({account:g}))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),K(F("Error"),F("Please try again. Confirm the transaction and make sure you are paying enough gas!")),V(!1);case 20:e.next=36;break;case 22:return e.prev=22,e.next=25,y(v,"withdraw",[n.sharesAsBigNumber.toString()],de);case 25:return l=e.sent,e.next=28,l.wait();case 28:(b=e.sent).status&&(U(F("Unstaked!"),Object(k.jsx)(ee.b,{txHash:b.transactionHash,children:F("Your earnings have also been harvested to your wallet")})),V(!1),i(),o(Object(_.d)({account:g}))),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(22),K(F("Error"),F("Please try again. Confirm the transaction and make sure you are paying enough gas!")),V(!1);case 36:case"end":return e.stop()}}),e,null,[[6,16],[22,32]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(D.a)(P.a.mark((function e(t){var n,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,e.next=4,y(v,"deposit",[t.toString()],de);case 4:return n=e.sent,e.next=7,n.wait();case 7:(c=e.sent).status&&(U(F("Staked!"),Object(k.jsx)(ee.b,{txHash:c.transactionHash,children:F("Your funds have been staked in the pool")})),V(!1),i(),o(Object(_.d)({account:g}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),K(F("Error"),F("Please try again. Confirm the transaction and make sure you are paying enough gas!")),V(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(D.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(le.h)(new B.a(Q),s.decimals),r?he(t):ge(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return re?Object(k.jsx)(we.a,{earningTokenPrice:O,stakingTokenPrice:x,apr:h?d:b,linkLabel:F("Get %symbol%",{symbol:s.symbol}),linkHref:Oe,stakingTokenBalance:pe.plus(n),stakingTokenSymbol:s.symbol,earningTokenSymbol:l.symbol,onBack:function(){return oe(!1)},initialValue:Q,performanceFee:c}):Object(k.jsxs)(u.Gb,{title:F(r?"Unstake":"Stake in Pool"),onDismiss:i,headerBackground:T.colors.gradients.cardHeader,children:[Object(k.jsxs)(u.cb,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(k.jsxs)(u.Fc,{bold:!0,children:[F(r?"Unstake":"Stake"),":"]}),Object(k.jsxs)(u.cb,{alignItems:"center",minWidth:"70px",children:[Object(k.jsx)(u.ib,{src:"/images/tokens/".concat(s.address,".png"),width:24,height:24,alt:s.symbol}),Object(k.jsx)(u.Fc,{ml:"4px",bold:!0,children:s.symbol})]})]}),Object(k.jsx)(u.k,{value:Q,onUserInput:function(e){if(e){var t=new B.a(e).multipliedBy(N.b.pow(s.decimals)),c=Math.floor(t.dividedBy(n).multipliedBy(100).toNumber());te(c>100?100:c)}else te(0);$(e)},currencyValue:be.gt(0)&&"~".concat(je||0," USD"),decimals:s.decimals}),Object(k.jsx)(u.Fc,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:F("Balance: %balance%",{balance:Object(le.i)(n,s.decimals)})}),Object(k.jsx)(u.lc,{min:0,max:100,value:Z,onValueChanged:fe,name:"stake",valueLabel:"".concat(Z,"%"),step:1}),Object(k.jsxs)(u.cb,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(k.jsx)(Ke,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return fe(25)},children:"25%"}),Object(k.jsx)(Ke,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return fe(50)},children:"50%"}),Object(k.jsx)(Ke,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return fe(75)},children:"75%"}),Object(k.jsx)(Ke,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return fe(100)},children:F("Max")})]}),r&&se&&Object(k.jsx)(Ue,{vaultKey:h,stakingTokenSymbol:s.symbol,stakeAmount:Q}),!r&&Object(k.jsxs)(u.cb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(k.jsxs)(u.Fc,{mr:"8px",color:"textSubtle",children:[F("Annual ROI at current rates"),":"]}),Number.isFinite(me)?Object(k.jsxs)(ze,{alignItems:"center",onClick:function(){oe(!0)},children:[Object(k.jsxs)(Re,{children:["$",xe]}),Object(k.jsx)(u.hb,{variant:"text",scale:"sm",children:Object(k.jsx)(u.x,{color:"textSubtle",width:"18px"})})]}):Object(k.jsx)(u.kc,{width:60})]}),Object(k.jsx)(u.u,{isLoading:H,endIcon:H?Object(k.jsx)(u.i,{spin:!0,color:"currentColor"}):null,onClick:Ce,disabled:!Q||0===parseFloat(Q),mt:"24px",children:F(H?"Confirming":"Confirm")}),!r&&Object(k.jsx)(u.u,{mt:"8px",as:"a",external:!0,href:Oe,variant:"secondary",children:F("Get %symbol%",{symbol:s.symbol})})]})};!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.IS_ENABLING="is_enabling"}(De||(De={}));var Ne,He,Ve,Ge,We,Qe,$e,Ye,_e,qe,Je,Xe,Ze,et,tt,nt,ct,at,rt,it,ot,st,lt,bt,ut,jt,dt,pt,mt,xt,Ot,ft,ht,gt,kt,vt,yt,wt,St,It,Ct,At=["userAmount","totalAmount"],Ft=function(e){var t=e.userAmount,n=e.totalAmount,c=Object(fe.a)(e,At),a=Object(p.b)().t,r=(n.isGreaterThan(0)?t.div(n).times(100).toNumber():0).toLocaleString(void 0,{maximumFractionDigits:5});return Object(k.jsx)(u.Fc,Object(T.a)(Object(T.a)({fontSize:"14px",color:"textSubtle"},c),{},{children:a("%num% of total",{num:r})}))},Pt=function(){return Object(k.jsx)(u.kc,{height:"48px"})},Tt=function(){return Object(k.jsxs)("div",{children:[Object(k.jsxs)(u.cb,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(k.jsx)(u.kc,{variant:"circle",width:"32px",height:"32px",mr:"16px"}),Object(k.jsx)(u.kc,{width:"90%"})]}),Object(k.jsxs)(u.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(u.kc,{variant:"circle",width:"32px",height:"32px",mr:"16px"}),Object(k.jsx)(u.kc,{width:"90%"})]})]})},Dt=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(u.kc,{mb:"8px"}),Object(k.jsx)(u.kc,{})]})},Lt=["primaryToken","secondaryToken","children"],Et=["commitToken"],Bt=function(e){var t=e.primaryToken,n=e.secondaryToken,c=e.children,a=Object(fe.a)(e,Lt);return Object(k.jsxs)(u.cb,Object(T.a)(Object(T.a)({},a),{},{children:[t?t&&n?Object(k.jsx)(ge.b,{variant:"inverted",primaryToken:t,height:32,width:32,secondaryToken:n,mr:"16px"}):Object(k.jsx)(ge.a,{token:t,height:32,width:32,mr:"16px"}):Object(k.jsx)(u.t,{width:32,mr:"16px"}),Object(k.jsx)("div",{children:c})]}))},Ut=function(e){var t=e.commitToken,n=Object(fe.a)(e,Et);return t.equals(he.a)?Object(k.jsx)(Bt,Object(T.a)({primaryToken:z.a.cake,secondaryToken:z.a.wbnb},n)):Object(k.jsx)(Bt,Object(T.a)({primaryToken:t},n))},Kt=function(e){return Object(k.jsx)(u.Fc,Object(T.a)({bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase"},e))},zt=function(e){return Object(k.jsx)(u.Fc,Object(T.a)({bold:!0,fontSize:"20px",style:{wordBreak:"break-all"}},e))},Rt=function(e){var t=e.token,n=e.saleAmount,c=e.distributionRatio,a=Object(p.b)().t;return Object(k.jsx)(Bt,{primaryToken:t,children:Object(k.jsxs)(u.cb,{flexDirection:"column",children:[Object(k.jsx)(Kt,{children:a("On sale").toUpperCase()}),Object(k.jsx)(zt,{children:n}),Object(k.jsx)(u.Fc,{fontSize:"14px",color:"textSubtle",children:a("%ratio%% of total sale",{ratio:c})})]})})},Mt=Object(g.e)(u.Fc)(Ne||(Ne=Object(h.a)(["\n  ","\n  font-size: 14px;\n"])),(function(e){return e.$isLink&&"\n    text-decoration: underline;\n    font-weight: bold;\n  "})),Nt=function(e){var t,n=e.poolId,c=e.ifo,a=e.publicIfoData,r=e.walletIfoData,i=e.hasProfile,o=e.isLoading,s=e.onApprove,l=e.enableStatus,b=Object(j.c)().account,d=Object(p.b)().t,m=Object(u.md)(d("Sorry, you didn\u2019t contribute enough CAKE to meet the minimum threshold. You didn\u2019t buy anything in this sale, but you can still reclaim your CAKE."),{placement:"bottom"}),x=m.targetRef,O=m.tooltip,h=m.tooltipVisible,g=a[n],v=r[n],y=c.currency,w=c.token,S=v.hasClaimed,I=100*c[n].distributionRatio,C=Object(f.g)(),A=Object(f.h)().pool,F=Object(f.f)(),P=(null===A||void 0===A||null===(t=A.userData)||void 0===t?void 0:t.stakingTokenBalance)?new B.a(A.userData.stakingTokenBalance):N.c,T=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:P,performanceFee:C.fees.performanceFeeAsDecimal,pool:A})),D=Object(L.a)(T,1)[0];return Object(k.jsxs)(u.p,{children:[h&&O,function(){return o?Object(k.jsx)(Tt,{}):b?(b&&!i&&(e=Object(k.jsx)(u.Db,{my:"24px",p:"8px",variant:"warning",children:Object(k.jsxs)(u.p,{children:[Object(k.jsx)(Mt,{as:"span",color:"#D67E0A",children:"finished"===a.status?d("Activate PancakeSwap Profile to take part in next IFO\u2018s!"):d("You need an active PancakeSwap Profile to take part in an IFO!")})," ",Object(k.jsxs)(Mt,{as:"a",$isLink:!0,color:"#D67E0A",href:"#ifo-how-to",children:[d("How does it work?")," \xbb"]})]})})),3===c.version&&0===Object(le.g)(F)&&(e=Object(k.jsx)(u.Db,{my:"24px",p:"8px",variant:"danger",children:Object(k.jsxs)(u.p,{children:[Object(k.jsx)(Mt,{as:"span",color:"failure",children:d("You don\u2019t have any average CAKE balance available to commit in the IFO CAKE pool.")})," ",Object(k.jsxs)(Mt,{as:"a",$isLink:!0,color:"failure",fontWeight:700,href:"#ifo-how-to",children:[d("How does it work?")," \xbb"]})]})})),b&&!i?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Rt,{token:w,distributionRatio:I,saleAmount:c[n].saleAmount}),e]}):"coming_soon"===a.status?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Bt,{primaryToken:c.token,children:[Object(k.jsx)(Kt,{children:d("On sale")}),Object(k.jsx)(zt,{children:c[n].saleAmount})]}),Object(k.jsx)(u.Fc,{fontSize:"14px",color:"textSubtle",pl:"48px",children:d("%ratio%% of total sale",{ratio:I})}),e,l!==De.ENABLED&&b&&Object(k.jsx)(u.u,{width:"100%",mt:"16px",onClick:s,isLoading:l===De.IS_ENABLING,endIcon:l===De.IS_ENABLING?Object(k.jsx)(u.i,{spin:!0,color:"currentColor"}):null,children:d("Enable")})]}):"live"===a.status?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ut,{commitToken:c.currency,mb:"24px",children:[Object(k.jsx)(Kt,{children:d("Your %symbol% committed",{symbol:y.symbol})}),Object(k.jsx)(zt,{children:Object(le.g)(v.amountTokenCommittedInLP,y.decimals)}),Object(k.jsx)(Ft,{userAmount:v.amountTokenCommittedInLP,totalAmount:g.totalAmountPool})]}),Object(k.jsxs)(Bt,{primaryToken:c.token,children:[Object(k.jsx)(Kt,{children:d("%symbol% to receive",{symbol:w.symbol})}),Object(k.jsx)(zt,{children:Object(le.g)(v.offeringAmountInToken,w.decimals)})]})]}):"finished"===a.status?v.amountTokenCommittedInLP.isEqualTo(0)?Object(k.jsxs)(u.cb,{flexDirection:"column",alignItems:"center",children:[Object(k.jsx)(u.t,{width:80,mb:"16px"}),Object(k.jsx)(u.Fc,{fontWeight:600,children:d("You didn\u2019t participate in this sale!")}),Object(k.jsx)(u.Fc,{textAlign:"center",fontSize:"14px",children:d("To participate in the next IFO, stake some CAKE in the IFO CAKE pool!")}),Object(k.jsxs)(Mt,{as:"a",$isLink:!0,href:"#ifo-how-to",color:"primary",textAlign:"center",children:[d("How does it work?")," \xbb"]}),Object(k.jsx)(u.u,{mt:"24px",onClick:D,children:d("Stake CAKE in IFO pool")})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Ut,{commitToken:c.currency,mb:"24px",children:[Object(k.jsx)(Kt,{children:d(S?"Your %symbol% RECLAIMED":"Your %symbol% TO RECLAIM",{symbol:y.symbol})}),Object(k.jsxs)(u.cb,{alignItems:"center",children:[Object(k.jsx)(zt,{children:Object(le.g)(v.refundingAmountInLP,y.decimals)}),S&&Object(k.jsx)(u.K,{color:"success",ml:"8px"})]}),Object(k.jsx)(Ft,{userAmount:v.amountTokenCommittedInLP,totalAmount:g.totalAmountPool})]}),Object(k.jsxs)(Bt,{primaryToken:c.token,children:[Object(k.jsxs)(Kt,{children:[" ",d(S?"%symbol% received":"%symbol% to receive",{symbol:w.symbol})]}),Object(k.jsxs)(u.cb,{alignItems:"center",children:[Object(k.jsx)(zt,{children:Object(le.g)(v.offeringAmountInToken,w.decimals)}),!S&&v.offeringAmountInToken.isEqualTo(0)&&Object(k.jsx)("div",{ref:x,style:{display:"flex",marginLeft:"8px"},children:Object(k.jsx)(u.fb,{})}),S&&Object(k.jsx)(u.K,{color:"success",ml:"8px"})]})]})]}):null):Object(k.jsx)(Rt,{token:w,distributionRatio:I,saleAmount:c[n].saleAmount});var e}()]})},Ht=n(116),Vt=n(138),Gt=n(180),Wt=n(140),Qt=function(e){var t=e.currency,n=e.onDismiss,c=Object(p.b)().t;return Object(k.jsx)(u.Gb,{title:c("%symbol% required",{symbol:t.symbol}),onDismiss:n,children:Object(k.jsxs)(u.Ib,{maxWidth:"288px",children:[Object(k.jsx)(u.ib,{src:"/images/tokens/".concat(t.address,".svg"),width:72,height:72,margin:"auto",mb:"24px"}),Object(k.jsx)(u.Fc,{mb:"16px",children:c("You\u2019ll need %symbol% tokens to participate in the IFO!",{symbol:t.symbol})}),Object(k.jsx)(u.Fc,{mb:"24px",children:c("Get %symbol%, or make sure your tokens aren\u2019t staked somewhere else.",{symbol:t.symbol})}),Object(k.jsx)(u.u,{as:u.sb,external:!0,href:"/swap?outputCurrency=".concat(t.address),endIcon:Object(k.jsx)(u.Rb,{color:"white"}),minWidth:"100%",children:c("Get %symbol%",{symbol:t.symbol})})]})})},$t=n(82),Yt=n(970),_t=n(959),qt=[.1,.25,.5,.75,1],Jt=Object($t.parseUnits)("10","gwei").toString(),Xt=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,a=e.walletIfoData,r=e.userCurrencyBalance,i=e.creditLeft,o=e.onDismiss,s=e.onSuccess,l=c[t],b=a[t],d=n.currency,x=l.limitPerUserInLP,O=b.amountTokenCommittedInLP,f=a.contract,h=Object(m.useState)(""),g=Object(L.a)(h,2),v=g[0],y=g[1],w=Object(j.c)().account,S=Object(ie.a)().callWithGasPrice,I=Object(Y.f)(d.address),C=Object(p.b)().t,A=new B.a(v).times(U.k),F=d===z.a.cake?C("Max. CAKE entry"):C("Max. token entry"),T=Object(_t.a)({onRequiresApproval:function(){var e=Object(D.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.allowance(w,f.address);case 3:return t=e.sent,n=new B.a(t.toString()),e.abrupt("return",n.gt(0));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return S(I,"approve",[f.address,R.a.constants.MaxUint256],{gasPrice:Jt})},onConfirm:function(){return S(f,"depositPool",[A.toString(),t===te.d.poolBasic?0:1],{gasPrice:Jt})},onSuccess:function(){var e=Object(D.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.receipt,e.next=3,s(A,n.transactionHash);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),E=T.isApproving,K=T.isApproved,M=T.isConfirmed,N=T.isConfirming,H=T.handleApprove,V=T.handleConfirm,G=Object(m.useMemo)((function(){return i?x.isGreaterThan(0)&&x.isLessThanOrEqualTo(i)?x:i:x.minus(O)}),[i,x,O]),W=Object(m.useMemo)((function(){return G.isLessThanOrEqualTo(r)?G:r}),[G,r]),Q=Object(u.md)(t===te.d.poolBasic?C("For the basic sale, Max CAKE entry is capped by minimum between your average CAKE balance in the IFO CAKE pool, or the pool\u2019s hard cap. To increase the max entry, Stake more CAKE into the IFO CAKE pool"):C("For the unlimited sale, Max CAKE entry is capped by your average CAKE balance in the IFO CAKE pool. To increase the max entry, Stake more CAKE into the IFO CAKE pool"),{}),$=Q.targetRef,_=Q.tooltip,q=Q.tooltipVisible,J=A.isGreaterThan(r)||A.isGreaterThan(G);return Object(k.jsx)(u.Gb,{title:C("Contribute %symbol%",{symbol:d.symbol}),onDismiss:o,children:Object(k.jsx)(u.Ib,{maxWidth:"360px",children:Object(k.jsxs)(u.p,{p:"2px",children:[Object(k.jsxs)(u.cb,{justifyContent:"space-between",mb:"16px",children:[q&&_,Object(k.jsxs)(u.Qc,{ref:$,children:[F,":"]}),Object(k.jsx)(u.Fc,{children:"".concat(Object(le.e)(Object(le.f)(G,d.decimals).toNumber(),3,3)," ").concat(n.currency.symbol)})]}),Object(k.jsxs)(u.cb,{justifyContent:"space-between",mb:"8px",children:[Object(k.jsxs)(u.Fc,{children:[C("Commit"),":"]}),Object(k.jsxs)(u.cb,{flexGrow:1,justifyContent:"flex-end",children:[Object(k.jsx)(u.ib,{src:"CAKE"===n.currency.symbol?"/images/cake.svg":"/images/farms/".concat(d.symbol.split(" ")[0].toLocaleLowerCase(),".svg"),width:24,height:24}),Object(k.jsx)(u.Fc,{ml:"4px",children:d.symbol})]})]}),Object(k.jsx)(u.k,{value:v,currencyValue:c.currencyPriceInUSD.times(v||0).toFixed(2),onUserInput:y,isWarning:J,decimals:d.decimals,onBlur:function(){J&&y(Object(le.f)(W).toString())},mb:"8px"}),J&&Object(k.jsx)(u.Fc,{color:A.isGreaterThan(r)?"failure":"warning",textAlign:"right",fontSize:"12px",mb:"8px",children:A.isGreaterThan(r)?C("Insufficient Balance"):C("Exceeded max CAKE entry")}),Object(k.jsx)(u.Fc,{color:"textSubtle",textAlign:"right",fontSize:"12px",mb:"16px",children:C("Balance: %balance%",{balance:Object(le.f)(r,d.decimals).toString()})}),Object(k.jsx)(u.cb,{justifyContent:"space-between",mb:"16px",children:qt.map((function(e,t){return Object(k.jsxs)(u.u,{scale:"xs",variant:"tertiary",onClick:function(){return y(Object(le.f)(W.times(e)).toString())},mr:t<qt.length-1?"8px":0,children:[100*e,"%"]},e)}))}),Object(k.jsxs)(u.Fc,{color:"textSubtle",fontSize:"12px",mb:"24px",children:[C("If you don\u2019t commit enough CAKE, you may not receive any IFO tokens at all and will only receive a full refund of your CAKE."),Object(k.jsx)(u.sb,{fontSize:"12px",display:"inline",href:"https://docs.pancakeswap.finance/products/ifo-initial-farm-offering",external:!0,children:C("Read more")})]}),Object(k.jsx)(Yt.b,{isApproveDisabled:M||N||K,isApproving:E,isConfirmDisabled:!K||M||A.isNaN()||A.eq(0)||J,isConfirming:N,onApprove:H,onConfirm:V})]})})})},Zt=function(e){var t,n,c,a=e.poolId,r=e.ifo,i=e.publicIfoData,o=e.walletIfoData,s=i[a],l=o[a],b=l.isPendingTx,j=l.amountTokenCommittedInLP,d=s.limitPerUserInLP,m=Object(p.b)().t,x=Object(ce.a)().toastSuccess,O=Object(ae.a)().currentBlock,f=Object(Wt.b)(r.currency.address).balance,h=function(){var e=Object(D.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.fetchIfoData(O),o.fetchIfoData()]);case 2:x(m("Success!"),Object(k.jsx)(ee.b,{txHash:n,children:m("You have contributed %amount% CAKE to this IFO!",{amount:Object(le.g)(t)})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=Object(u.kd)(Object(k.jsx)(Xt,{poolId:a,creditLeft:null===(t=o.ifoCredit)||void 0===t?void 0:t.creditLeft,ifo:r,publicIfoData:i,walletIfoData:o,onSuccess:h,userCurrencyBalance:f}),!1),v=Object(L.a)(g,1)[0],y=Object(u.kd)(Object(k.jsx)(Qt,{currency:r.currency}),!1),w=Object(L.a)(y,1)[0],S=b||(null===(n=o.ifoCredit)||void 0===n?void 0:n.creditLeft)&&(null===(c=o.ifoCredit)||void 0===c?void 0:c.creditLeft.isLessThanOrEqualTo(0))||d.isGreaterThan(0)&&j.isGreaterThanOrEqualTo(d);return Object(k.jsx)(u.u,{onClick:f.isEqualTo(0)?w:v,width:"100%",disabled:S,children:m(S?"Max. Committed":"Commit CAKE")})},en=function(e){var t=e.poolId,n=e.ifoVersion,c=e.walletIfoData,a=c[t],r=Object(p.b)().t,i=Object(ce.a)(),o=i.toastError,s=i.toastSuccess,l=function(e){return c.setPendingTx(e,t)},b=function(){var e=Object(D.a)(P.a.mark((function e(){var a,i,b,u,j;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(!0),1!==n){e.next=12;break}return e.next=5,c.contract.harvest();case 5:return i=e.sent,e.next=8,i.wait();case 8:b=e.sent,a=b.transactionHash,e.next=19;break;case 12:return e.next=14,c.contract.harvestPool(t===te.d.poolBasic?0:1);case 14:return u=e.sent,e.next=17,u.wait();case 17:j=e.sent,a=j.transactionHash;case 19:c.setIsClaimed(t),s(r("Success!"),Object(k.jsx)(ee.b,{txHash:a,children:r("You have successfully claimed your rewards.")})),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),o(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 27:return e.prev=27,l(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,23,27,30]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)(u.u,{onClick:b,disabled:a.isPendingTx,width:"100%",isLoading:a.isPendingTx,endIcon:a.isPendingTx?Object(k.jsx)(u.i,{spin:!0,color:"currentColor"}):null,children:r("Claim")})},tn=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,a=e.walletIfoData,r=e.hasProfile,i=e.isLoading,o=Object(p.b)().t,s=Object(j.c)().account,l=a[t];return i?Object(k.jsx)(Pt,{}):s?r?Object(k.jsxs)(k.Fragment,{children:["live"===c.status&&Object(k.jsx)(Zt,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a}),"finished"===c.status&&!l.hasClaimed&&(l.offeringAmountInToken.isGreaterThan(0)||l.refundingAmountInLP.isGreaterThan(0))&&Object(k.jsx)(en,{poolId:t,ifoVersion:n.version,walletIfoData:a})]}):Object(k.jsx)(u.u,{as:Ht.a,to:"".concat(Vt.a,"/profile/").concat(s.toLowerCase()),width:"100%",children:o("Activate your Profile")}):Object(k.jsx)(Gt.a,{width:"100%"})},nn=n(455),cn=n(98),an=function(e){var t=e.label,n=e.value;return Object(k.jsxs)(u.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(u.Fc,{small:!0,color:"textSubtle",children:t}),n?Object(k.jsx)(u.Fc,{small:!0,textAlign:"right",children:n}):Object(k.jsx)(u.kc,{height:21,width:80})]})},rn=function(e){var t=e.maxToken,n=e.ifo,c=e.poolId,a=n.currency===z.a.cake,r=3===n.version,i=Object(p.b)().t,o=c===te.d.poolBasic?i("For the basic sale, Max CAKE entry is capped by minimum between your average CAKE balance in the IFO CAKE pool, or the pool\u2019s hard cap. To increase the max entry, Stake more CAKE into the IFO CAKE pool"):i("For the unlimited sale, Max CAKE entry is capped by your average CAKE balance in the IFO CAKE pool. To increase the max entry, Stake more CAKE into the IFO CAEK pool"),s=Object(u.md)(o,{placement:"bottom-start"}),l=s.targetRef,b=s.tooltip,j=s.tooltipVisible,d=i(a?"Max. CAKE entry":"Max. token entry"),m=Object(nn.a)(n.currency),x=Object(cn.d)(m,t,n.currency.decimals);return r||c!==te.d.poolUnlimited?Object(k.jsxs)(k.Fragment,{children:[r&&j&&b,Object(k.jsx)(an,{label:r?Object(k.jsx)(u.Qc,{small:!0,color:"textSubtle",ref:l,children:d}):d,value:"".concat(Object(le.e)(t,3,3)," ").concat(a?"":n.currency.symbol," ").concat(x>0?" ~($".concat(x.toFixed(0),")"):"")})]}):null},on=function(e){var t,n,c=e.poolId,a=e.ifo,r=e.publicIfoData,i=e.walletIfoData,o=Object(p.b)().t,s=r.status,l=r.currencyPriceInUSD,b=r[c],j=(null===(t=i.ifoCredit)||void 0===t?void 0:t.creditLeft)?i.ifoCredit.creditLeft.gt(b.limitPerUserInLP)?b.limitPerUserInLP:i.ifoCredit.creditLeft:null;j=c===te.d.poolUnlimited?null===(n=i.ifoCredit)||void 0===n?void 0:n.creditLeft:j;var d=3===a.version?j?Object(le.g)(j,a.currency.decimals):0:Object(le.g)(b.limitPerUserInLP,a.currency.decimals),m="".concat(b.taxRate,"%"),x=b.totalAmountPool.div(b.raisingAmountPool).times(100).toFixed(2),O=Object(le.g)(b.totalAmountPool,a.currency.decimals),f=l.times(O),h="~$".concat(Object(le.e)(f.toNumber(),0,0)," (").concat(x,"%)"),g=b.totalAmountPool.times(b.taxRate).times(.01).plus(b.raisingAmountPool).div(b.offeringAmountPool).div(b.raisingAmountPool.div(b.offeringAmountPool)),v="~$".concat(Object(le.e)(g.times(a.tokenOfferingPrice).toNumber(),0,2)),y=Object(k.jsx)(rn,{poolId:c,ifo:a,maxToken:d});return Object(k.jsx)(u.p,{paddingTop:"24px",children:"coming_soon"===s?Object(k.jsxs)(k.Fragment,{children:[y,Object(k.jsx)(an,{label:o("Funds to raise:"),value:a[c].raiseAmount}),"$0"!==a[c].cakeToBurn&&Object(k.jsx)(an,{label:o("CAKE to burn:"),value:a[c].cakeToBurn}),Object(k.jsx)(an,{label:o("Price per %symbol%:",{symbol:a.token.symbol}),value:"$".concat(a.tokenOfferingPrice)})]}):"live"===s?Object(k.jsxs)(k.Fragment,{children:[y,c===te.d.poolBasic&&Object(k.jsx)(an,{label:o("Price per %symbol%:",{symbol:a.token.symbol}),value:"$".concat(a.tokenOfferingPrice)}),c===te.d.poolUnlimited&&Object(k.jsx)(an,{label:o("Additional fee:"),value:m}),c===te.d.poolUnlimited&&Object(k.jsx)(an,{label:o("Price per %symbol% with fee:",{symbol:a.token.symbol}),value:v}),Object(k.jsx)(an,{label:o("Total committed:"),value:l.gt(0)?h:null})]}):"finished"===s?Object(k.jsxs)(k.Fragment,{children:[y,c===te.d.poolUnlimited&&Object(k.jsx)(an,{label:o("Additional fee:"),value:m}),Object(k.jsx)(an,{label:o("Total committed:"),value:l.gt(0)?h:null}),Object(k.jsx)(an,{label:o("Funds to raise:"),value:a[c].raiseAmount}),"$0"!==a[c].cakeToBurn&&Object(k.jsx)(an,{label:o("CAKE to burn:"),value:a[c].cakeToBurn}),a.version>1&&Object(k.jsx)(an,{label:o("Price per %symbol%:",{symbol:a.token.symbol}),value:"$".concat(a.tokenOfferingPrice?a.tokenOfferingPrice:"?")}),a.version>1&&c===te.d.poolUnlimited&&Object(k.jsx)(an,{label:o("Price per %symbol% with fee:",{symbol:a.token.symbol}),value:v})]}):Object(k.jsx)(Dt,{})})},sn=Object(g.e)(u.z)(He||(He=Object(h.a)(["\n  background: none;\n  max-width: 368px;\n  width: 100%;\n  margin: 0 auto;\n  height: fit-content;\n"]))),ln=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,a=e.walletIfoData,r=e.onApprove,i=e.enableStatus,o=function(e,t){switch(t){case te.d.poolBasic:return{title:e("Basic Sale"),variant:"blue",tooltip:e("Every person can only commit a limited amount, but may expect a higher return per token committed.")};case te.d.poolUnlimited:return{title:e("Unlimited Sale"),variant:"violet",tooltip:e("No limits on the amount you can commit. Additional fee applies when claiming.")};default:return{title:"",variant:"blue",tooltip:""}}}(Object(p.b)().t,t),s=Object(Oe.d)(),l=s.hasProfile,b=s.isLoading,j=Object(u.md)(o.tooltip,{placement:"bottom"}),d=j.targetRef,m=j.tooltip,x=j.tooltipVisible,O=b||"idle"===c.status;return Object(k.jsxs)(k.Fragment,{children:[x&&m,Object(k.jsxs)(sn,{children:[Object(k.jsx)(u.C,{p:"16px 24px",variant:o.variant,children:Object(k.jsxs)(u.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(u.Fc,{bold:!0,fontSize:"20px",lineHeight:1,children:o.title}),Object(k.jsx)("div",{ref:d,children:Object(k.jsx)(u.fb,{})})]})}),Object(k.jsxs)(u.A,{p:"12px",children:[Object(k.jsx)(Nt,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a,hasProfile:l,isLoading:O,onApprove:r,enableStatus:i}),Object(k.jsx)(u.p,{mt:"24px",children:Object(k.jsx)(tn,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a,hasProfile:l,isLoading:O})}),Object(k.jsx)(on,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a})]})]})]})},bn=Object(g.e)(u.eb)(Ve||(Ve=Object(h.a)(["\n  background: -webkit-linear-gradient(#ffd800, #eb8c00);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);\n"]))),un=Object(g.e)(u.cb)(Ge||(Ge=Object(h.a)(["\n  gap: ",";\n"])),(function(e){return e.gap})),jn=function(e){var t=e.publicIfoData,n=Object(p.b)().t,c=t.status,a=t.secondsUntilStart,r=Object(Le.a)(a);return Object(k.jsx)(u.cb,{justifyContent:"center",position:"relative",children:"idle"===c?Object(k.jsx)(u.kc,{animation:"pulse",variant:"rect",width:"100%",height:"48px"}):Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(un,{gap:"8px",alignItems:"center",children:[Object(k.jsx)(u.eb,{as:"h3",scale:"lg",color:"secondary",children:n("Start in")}),Object(k.jsxs)(un,{gap:"4px",alignItems:"baseline",children:[r.days&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.eb,{scale:"lg",color:"secondary",children:r.days}),Object(k.jsx)(u.Fc,{color:"secondary",children:"d"})]}),r.hours&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.eb,{color:"secondary",scale:"lg",children:r.hours}),Object(k.jsx)(u.Fc,{color:"secondary",children:"h"})]}),r.minutes&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.eb,{color:"secondary",scale:"lg",children:r.minutes}),Object(k.jsx)(u.Fc,{color:"secondary",children:"m"})]})]})]})})})},dn=Object(g.e)(u.eb)(We||(We=Object(h.a)(["\n  color: white;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.1;\n\n  "," {\n    font-size: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),pn=Object(g.e)(dn)(Qe||(Qe=Object(h.a)(["\n  color: white;\n  "," {\n    background: -webkit-linear-gradient(#ffd800, #eb8c00);\n    background-clip: text;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),mn=function(e){var t=e.publicIfoData,n=Object(p.b)().t,c=t.status,a=t.secondsUntilEnd,r=Object(Le.a)(a);return Object(k.jsx)(u.cb,{justifyContent:"center",position:"relative",children:"idle"===c?Object(k.jsx)(u.kc,{animation:"pulse",variant:"rect",width:"100%",height:"48px"}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Wb,{width:"42px",mr:"8px"}),Object(k.jsxs)(un,{gap:"8px",alignItems:"center",children:[Object(k.jsx)(pn,{as:"h3",children:"".concat(n("Live Now").toUpperCase(),"!")}),Object(k.jsx)(dn,{as:"h3",scale:"lg",color:"white",children:n("Ends in")}),Object(k.jsxs)(un,{gap:"4px",alignItems:"baseline",children:[r.days&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bn,{scale:"lg",children:r.days}),Object(k.jsx)(u.Fc,{color:"white",children:"d"})]}),r.hours&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bn,{scale:"lg",children:r.hours}),Object(k.jsx)(u.Fc,{color:"white",children:"h"})]}),r.minutes&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(bn,{scale:"lg",children:r.minutes}),Object(k.jsx)(u.Fc,{color:"white",children:"m"})]})]})]})]})})},xn=Object(g.e)(u.p)($e||($e=Object(h.a)(["\n  width: 150%;\n  position: absolute;\n  top: -150%;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n\n  "," {\n    border-radius: 50%;\n  }\n\n  ","\n"])),(function(e){return e.theme.mediaQueries.md}),(function(e){var t=e.$status,n=e.theme;switch(t){case"coming_soon":return"\n          background: ".concat(n.colors.tertiary,";\n        ");case"live":return"\n          background: linear-gradient(#8051D6 100%, #492286 100%);\n        ";case"finished":return"\n          background: ".concat(n.colors.input,";\n        ");default:return""}})),On=function(e){var t,n=e.publicIfoData,c=n.status;return"finished"===c?t=Object(k.jsx)(fn,{}):"live"===c?t=Object(k.jsx)(gn,{publicIfoData:n}):"coming_soon"===c&&(t=Object(k.jsx)(hn,{publicIfoData:n})),"idle"===c?null:Object(k.jsxs)(k.Fragment,{children:["live"===c&&Object(k.jsx)(u.bc,{variant:"flat",children:Object(k.jsx)(u.cc,{$useDark:!0,$background:"linear-gradient(273deg, #ffd800 -2.87%, #eb8c00 113.73%)",style:{width:"".concat(Math.min(Math.max(n.progress,0),100),"%")}})}),Object(k.jsx)(u.cb,{justifyContent:"center",alignItems:"center",flexDirection:"column",minHeight:["48px","48px","48px","75px"],position:"relative",overflow:"hidden",children:t})]})},fn=function(){var e=Object(p.b)().t;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(xn,{$status:"finished"}),Object(k.jsx)(u.p,{position:"relative",children:Object(k.jsx)(u.eb,{as:"h3",scale:"lg",color:"textSubtle",children:e("Sale Finished!")})})]})},hn=function(e){var t=e.publicIfoData;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(xn,{$status:"coming_soon"}),Object(k.jsx)(u.p,{position:"relative",children:Object(k.jsx)(u.eb,{as:"h3",scale:"lg",color:"secondary",children:Object(k.jsx)(jn,{publicIfoData:t})})})]})},gn=function(e){var t=e.publicIfoData;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(xn,{$status:"live"}),Object(k.jsx)(u.p,{position:"relative",children:Object(k.jsx)(mn,{publicIfoData:t})})]})},kn=Object(g.e)(u.z)(Ye||(Ye=Object(h.a)(["\n  width: 100%;\n  margin: auto;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n\n  ","\n\n  > div {\n    background: ",";\n  }\n\n  "," {\n    border-top-left-radius: 32px;\n    border-top-right-radius: 32px;\n\n    > div {\n      border-top-left-radius: 32px;\n      border-top-right-radius: 32px;\n    }\n  }\n"])),(function(e){return e.$isCurrent&&"\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  > div {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n  }\n  "}),(function(e){var t=e.theme;return e.$isCurrent?t.colors.gradients.bubblegum:t.colors.dropdown}),(function(e){return e.theme.mediaQueries.sm})),vn=Object(g.e)(u.C)(_e||(_e=Object(h.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n  background-image: ",";\n  "," {\n    height: 112px;\n  }\n"])),(function(e){return e.$isCurrent?"64px":"112px"}),(function(e){var t=e.ifoId;return"url('/images/ifos/".concat(t,"-bg.svg'), url('/images/ifos/").concat(t,"-bg.png')")}),(function(e){return e.theme.mediaQueries.md})),yn=g.e.div(qe||(qe=Object(h.a)(["\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: 1fr;\n  "," {\n    grid-template-columns: ",";\n    justify-items: ",";\n  }\n"])),(function(e){return e.theme.mediaQueries.xxl}),(function(e){return e.singleCard?"1fr":"1fr 1fr"}),(function(e){return e.singleCard?"center":"unset"})),wn=Object(g.e)(u.A)(Je||(Je=Object(h.a)(["\n  padding: 24px 16px;\n  "," {\n    padding: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Sn=Object(g.e)(u.B)(Xe||(Xe=Object(h.a)(["\n  padding: 0;\n  background: ",";\n  text-align: center;\n"])),(function(e){return e.theme.colors.backgroundAlt})),In=g.e.div(Ze||(Ze=Object(h.a)(["\n  position: absolute;\n  left: -24px;\n  z-index: 1;\n  top: 33px;\n\n  > img {\n    width: 78px;\n  }\n\n  "," {\n    top: ",";\n  }\n  "," {\n    left: auto;\n    top: ",";\n    right: ",";\n\n    > img {\n      width: 123px;\n    }\n  }\n  "," {\n    right: ",";\n  }\n  "," {\n    right: 90px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.$isLive?"46px":"33px"}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.$isLive?"61px":"48px"}),(function(e){return e.$isCurrent?"17px":"90px"}),(function(e){return e.theme.mediaQueries.lg}),(function(e){return e.$isCurrent?"67px":"90px"}),(function(e){return e.theme.mediaQueries.xxl})),Cn=function(e){var t=e.isLive,n=e.isCurrent,c=Object(u.jd)(),a=c.isXs,r=c.isSm,i=c.isMd,o=a||r||i;return o&&t?null:Object(k.jsx)(In,{$isLive:t,$isCurrent:n,children:Object(k.jsx)("img",{src:"/images/ifos/assets/bunnypop-".concat(o?"left":"right",".png"),width:123,height:162,alt:"bunny"})})},An=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,a=Object(m.useState)(!1),r=Object(L.a)(a,2),i=r[0],o=r[1],s=Object(p.b)().t,l=Object(u.jd)().isMobile,b="live"===n.status||"coming_soon"===n.status;return Object(k.jsxs)(k.Fragment,{children:[l&&Object(k.jsxs)(u.p,{className:"sticky-header",position:"sticky",bottom:"48px",width:"100%",zIndex:6,maxWidth:["400px","400px","400px","100%"],children:[Object(k.jsx)(vn,{$isCurrent:!0,ifoId:t.id}),Object(k.jsx)(On,{publicIfoData:n}),b&&Object(k.jsx)(Cn,{isLive:"live"===n.status})]}),Object(k.jsxs)(u.p,{position:"relative",width:"100%",maxWidth:["400px","400px","400px","100%"],children:[!l&&b&&Object(k.jsx)(Cn,{isCurrent:!0,isLive:"live"===n.status}),Object(k.jsxs)(kn,{$isCurrent:!0,children:[!l&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(vn,{$isCurrent:!0,ifoId:t.id}),Object(k.jsx)(On,{publicIfoData:n})]}),Object(k.jsx)(Pn,{ifo:t,publicIfoData:n,walletIfoData:c}),Object(k.jsxs)(Sn,{children:[Object(k.jsx)(u.ab,{expanded:i,onClick:function(){return o(!i)},children:s(i?"Hide":"Details")}),i&&Object(k.jsx)(xe,{ifo:t,publicIfoData:n})]})]})]})]})},Fn=g.e.div(et||(et=Object(h.a)(["\n  display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),Pn=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,a=Object(ae.a)().currentBlock,r=n.fetchIfoData,i=n.isInitialized,o=n.secondsUntilEnd,s=c.contract,l=c.fetchIfoData,b=c.resetIfoData,u=c.isInitialized,d=Object(m.useState)(De.DISABLED),x=Object(L.a)(d,2),O=x[0],f=x[1],h=Object(p.b)().t,g=Object(j.c)().account,v=Object(Y.f)(t.currency.address),y=("finished"!==n.status||"finished"===n.status&&o>=-120)&&t.isActive,w=oe(v,s.address),S=Object(ce.a)().toastSuccess,I=Object(ne.a)().fastRefresh,C=Object(re.a)();Object(m.useEffect)((function(){!y&&i||r(a)}),[y,i,r,a]),Object(m.useEffect)((function(){!C||!y&&u||g&&l(),!g&&u&&b()}),[C,g,y,u,l,b,I]);var A=function(){var e=Object(D.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(De.IS_ENABLING),e.next=4,w();case 4:n=e.sent,f(De.ENABLED),S(h("Successfully Enabled!"),Object(k.jsx)(ee.b,{txHash:n.transactionHash,children:h("You can now participate in the %symbol% IFO.",{symbol:t.token.symbol})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f(De.DISABLED);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(m.useEffect)((function(){g&&function(){var e=Object(D.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.allowance(g,s.address);case 3:t=e.sent,n=new B.a(t.toString()),f(n.lte(0)?De.DISABLED:De.ENABLED),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f(De.DISABLED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[g,v,s,f]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(wn,{children:Object(k.jsxs)(yn,{singleCard:!n.poolBasic||!c.poolBasic,children:[n.poolBasic&&c.poolBasic&&Object(k.jsx)(ln,{poolId:te.d.poolBasic,ifo:t,publicIfoData:n,walletIfoData:c,onApprove:A,enableStatus:O}),Object(k.jsx)(ln,{poolId:te.d.poolUnlimited,ifo:t,publicIfoData:n,walletIfoData:c,onApprove:A,enableStatus:O})]})})})},Tn=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,a=Object(m.useState)(!1),r=Object(L.a)(a,2),i=r[0],o=r[1],s=Object(u.jd)().isDesktop;return Object(k.jsxs)(u.p,{position:"relative",children:[i&&s&&Object(k.jsx)(Cn,{isLive:!1}),Object(k.jsxs)(u.p,{as:kn,borderRadius:"32px",children:[Object(k.jsxs)(u.p,{position:"relative",children:[Object(k.jsx)(vn,{ifoId:t.id,children:Object(k.jsx)(u.Z,{expanded:i,onClick:function(){return o((function(e){return!e}))}})}),i&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(On,{publicIfoData:n})})]}),Object(k.jsxs)(Fn,{isVisible:i,children:[Object(k.jsx)(Pn,{ifo:t,publicIfoData:n,walletIfoData:c}),Object(k.jsx)(xe,{ifo:t,publicIfoData:n})]})]})]})},Dn=Object(g.e)(u.p)(tt||(tt=Object(h.a)(["\n  display: grid;\n  > div:not(.sticky-header) {\n    margin-bottom: 32px;\n  }\n"]))),Ln=Object(g.e)(Dn)(nt||(nt=Object(h.a)(["\n  column-gap: 32px;\n  display: grid;\n  grid-template-columns: 1fr;\n\n  "," {\n    grid-template-columns: minmax(300px, 1fr) minmax(462px, 2fr);\n  }\n\n  > div {\n    margin: 0 auto;\n    align-items: flex-start;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),En=Dn,Bn=n(950),Un=n(22),Kn=n(36),zn=Object(g.e)(u.cb)(ct||(ct=Object(h.a)(["\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.5;\n  }\n"]))),Rn=function(e){var t,n,c=e.pool,a=e.stakedBalance,r=e.performanceFee,i=void 0===r?0:r,o=Object(p.b)().t,s=c.stakingToken,l=c.earningToken,b=c.isFinished,j=c.apr,d=c.rawApr,m=c.earningTokenPrice,x=c.stakingTokenPrice,O=c.userData,f=c.vaultKey,h=(null===O||void 0===O?void 0:O.stakingTokenBalance)?new B.a(O.stakingTokenBalance):N.c,g=o(f?"APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),v=Object(u.md)(g,{placement:"bottom-start"}),y=v.targetRef,w=v.tooltip,S=v.tooltipVisible,I=s.address?"/swap?outputCurrency=".concat(s.address):"/swap",C=Object(u.kd)(Object(k.jsx)(we.a,{earningTokenPrice:m,stakingTokenPrice:x,apr:f?d:j,linkLabel:o("Get %symbol%",{symbol:s.symbol}),linkHref:I,stakingTokenBalance:a.plus(h),stakingTokenSymbol:s.symbol,earningTokenSymbol:l.symbol,autoCompoundFrequency:null!==(t=null===(n=Se.b[f])||void 0===n?void 0:n.autoCompoundFrequency)&&void 0!==t?t:0,performanceFee:i})),A=Object(L.a)(C,1)[0];return Object(k.jsxs)(u.cb,{alignItems:"center",justifyContent:"space-between",children:[S&&w,Object(k.jsx)(u.Qc,{ref:y,children:"".concat(o(f?"APY":"APR"),":")}),j||b?Object(k.jsxs)(zn,{alignItems:"center",onClick:A,children:[Object(k.jsx)(Bn.a,{fontSize:"16px",isDisabled:b,value:b?0:j,decimals:2,unit:"%",onClick:A}),!b&&Object(k.jsx)(u.hb,{variant:"text",scale:"sm",children:Object(k.jsx)(u.x,{color:"textSubtle",width:"18px"})})]}):Object(k.jsx)(u.kc,{width:"82px",height:"32px"})]})},Mn=Object(g.e)(u.z)(at||(at=Object(h.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  width: 100%;\n  min-width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){return e.theme.mediaQueries.sm})),Nn=n(986),Hn=n(37),Vn=n(336),Gn=Object(g.e)(u.cb)(rt||(rt=Object(h.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),Wn=function(e){var t,n=e.pool,c=e.account,a=Object(p.b)().t,r=Object(ae.a)().currentBlock,i=n.stakingToken,o=n.earningToken,s=n.totalStaked,l=n.startBlock,b=n.endBlock,j=n.stakingLimit,d=n.contractAddress,m=n.sousId,x=n.vaultKey,O=Object(f.j)(x),h=O.totalCakeInVault,g=O.fees.performanceFee,v=Object(f.k)(),y=Object.values(v).reduce((function(e,t){return e.plus(t.totalCakeInVault)}),N.c),w=o.address||"",S=Object(Hn.a)(d),I=Object(Hn.z)(x),C=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),A=0===m,F=Object(Ie.e)(n,r),P=F.shouldShowBlockCountdown,T=F.blocksUntilStart,D=F.blocksRemaining,L=F.hasPoolStarted,E=F.blocksToDisplay,K=Object(u.md)(a("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),z=K.targetRef,R=K.tooltip,M=K.tooltipVisible,H=Object(u.md)(a("Total amount of %symbol% staked in this pool",{symbol:i.symbol}),{placement:"bottom"}),V=H.targetRef,G=H.tooltip,W=H.tooltipVisible;return Object(k.jsxs)(Gn,{flexDirection:"column",children:[Object(k.jsxs)(u.cb,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(k.jsxs)(u.Fc,{small:!0,children:[a("Total staked"),":"]}),Object(k.jsxs)(u.cb,{alignItems:"flex-start",children:[s&&s.gte(0)?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Bn.a,{small:!0,value:function(){if(x)return Object(le.g)(h,i.decimals);if(A){var e=new B.a(s).minus(y);return Object(le.g)(e,i.decimals)}return Object(le.g)(s,i.decimals)}(),decimals:0,unit:" ".concat(i.symbol)}),Object(k.jsx)("span",{ref:V,children:Object(k.jsx)(u.fb,{color:"textSubtle",width:"20px",ml:"6px",mt:"4px"})})]}):Object(k.jsx)(u.kc,{width:"90px",height:"21px"}),W&&G]})]}),j&&j.gt(0)&&Object(k.jsxs)(u.cb,{mb:"2px",justifyContent:"space-between",children:[Object(k.jsxs)(u.Fc,{small:!0,children:[a("Max. stake per user"),":"]}),Object(k.jsx)(u.Fc,{small:!0,children:"".concat(Object(le.i)(j,i.decimals,0)," ").concat(i.symbol)})]}),P&&Object(k.jsxs)(u.cb,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(k.jsxs)(u.Fc,{small:!0,children:[a(L?"Ends in":"Starts in"),":"]}),D||T?Object(k.jsx)(u.cb,{alignItems:"center",children:Object(k.jsxs)(u.sb,{external:!0,href:Object(se.e)(L?b:l,"countdown"),children:[Object(k.jsx)(Bn.a,{small:!0,value:E,decimals:0,color:"primary"}),Object(k.jsx)(u.Fc,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:a("Blocks")}),Object(k.jsx)(u.Mc,{ml:"4px",color:"primary"})]})}):Object(k.jsx)(u.kc,{width:"54px",height:"21px"})]}),x&&Object(k.jsxs)(u.cb,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[M&&R,Object(k.jsx)(u.Qc,{ref:z,small:!0,children:a("Performance Fee")}),Object(k.jsx)(u.cb,{alignItems:"center",children:g?Object(k.jsxs)(u.Fc,{ml:"4px",small:!0,children:[g/100,"%"]}):Object(k.jsx)(u.kc,{width:"90px",height:"21px"})})]}),Object(k.jsx)(u.cb,{mb:"2px",justifyContent:"flex-end",children:Object(k.jsx)(u.tb,{href:"/info/token/".concat(o.address),bold:!1,small:!0,children:a("See Token Info")})}),Object(k.jsx)(u.cb,{mb:"2px",justifyContent:"flex-end",children:Object(k.jsx)(u.tb,{href:o.projectLink,bold:!1,small:!0,children:a("View Project Site")})}),S&&Object(k.jsx)(u.cb,{mb:"2px",justifyContent:"flex-end",children:Object(k.jsx)(u.tb,{href:"".concat(U.d,"/address/").concat(x?I:S),bold:!1,small:!0,children:a("View Contract")})}),c&&C&&w&&Object(k.jsx)(u.cb,{justifyContent:"flex-end",children:Object(k.jsxs)(u.u,{variant:"text",p:"0",height:"auto",onClick:function(){return Object(Vn.a)(w,o.symbol,o.decimals)},children:[Object(k.jsx)(u.Fc,{color:"primary",fontSize:"14px",children:a("Add to Metamask")}),Object(k.jsx)(u.Eb,{ml:"4px"})]})})]})},Qn=x.a.memo(Wn),$n=Object(g.e)(u.cb)(it||(it=Object(h.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),Yn=function(e){var t=e.pool,n=e.account,c=e.defaultExpanded,a=t.vaultKey,r=Object(p.b)().t,i=Object(m.useState)(c||!1),o=Object(L.a)(i,2),s=o[0],l=o[1],b=r("You must harvest and compound your earnings from this pool manually."),j=r("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),d=Object(u.md)(a?j:b,{placement:"bottom"}),x=d.targetRef,O=d.tooltip,f=d.tooltipVisible;return Object(k.jsxs)(u.B,{children:[Object(k.jsxs)($n,{children:[Object(k.jsxs)(u.cb,{alignItems:"center",children:[a?Object(k.jsx)(Nn.c,{}):Object(k.jsx)(Nn.f,{}),f&&O,Object(k.jsx)(u.cb,{ref:x,children:Object(k.jsx)(u.fb,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(k.jsx)(u.ab,{expanded:s,onClick:function(){return l(!s)},children:r(s?"Hide":"Details")})]}),s&&Object(k.jsx)(Qn,{pool:t,account:n})]})},_n=Object(g.e)(u.C)(ot||(ot=Object(h.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.isFinished,n=e.background,c=e.theme;return t?c.colors.backgroundDisabled:c.colors.gradients[n]}),(function(e){var t=e.theme;return"".concat(t.radii.card," ").concat(t.radii.card," 0 0")})),qn=function(e){var t=e.isFinished,n=e.title,c=e.subTitle;return Object(k.jsxs)(u.cb,{flexDirection:"column",children:[Object(k.jsx)(u.eb,{color:t?"textDisabled":"body",scale:"lg",children:n}),Object(k.jsx)(u.Fc,{fontSize:"14px",color:t?"textDisabled":"textSubtle",children:c})]})},Jn=function(e){var t=e.isFinished,n=void 0!==t&&t,c=e.isStaking,a=void 0!==c&&c,r=e.children,i=a?"bubblegum":"cardHeader";return Object(k.jsx)(_n,{isFinished:n,background:i,children:Object(k.jsx)(u.cb,{alignItems:"center",justifyContent:"space-between",children:r})})},Xn=n(90),Zn=(n(168),n(462),n(327),n(471)),ec=function(e,t){var n=Object(m.useState)(!1),c=Object(L.a)(n,2),a=c[0],r=c[1],i=Object(p.b)().t,o=Object(ce.a)(),s=o.toastSuccess,l=o.toastError,b=Object(Y.w)(e),u=Object(ie.a)().callWithGasPrice,j=Object(Y.c)();return{handleApprove:function(){var e=Object(D.a)(P.a.mark((function e(){var n,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(j,"approve",[b.address,R.a.constants.MaxUint256]);case 2:return n=e.sent,r(!0),e.next=6,n.wait();case 6:(c=e.sent).status?(s(i("Contract Enabled"),Object(k.jsx)(ee.b,{txHash:c.transactionHash,children:i("You can now stake in the %symbol% vault!",{symbol:"CAKE"})})),t(),r(!1)):(l(i("Error"),i("Please try again. Confirm the transaction and make sure you are paying enough gas!")),r(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),requestedApproval:a}},tc=function(e){var t=Object(m.useState)(!1),n=Object(L.a)(t,2),c=n[0],a=n[1],r=Object(j.c)().account,i=Object(Y.c)(),o=Object(Y.w)(e),s=Object(Zn.a)(),l=s.lastUpdated,b=s.setLastUpdated;return Object(m.useEffect)((function(){(function(){var e=Object(D.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.allowance(r,o.address);case 3:t=e.sent,a(t.gt(0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[r,i,o,l]),{isVaultApproved:c,setLastUpdated:b}},nc=function(e){var t=e.vaultKey,n=e.isLoading,c=void 0!==n&&n,a=e.setLastUpdated,r=Object(p.b)().t,i=ec(t,a),o=i.handleApprove,s=i.requestedApproval;return Object(k.jsx)(k.Fragment,{children:c?Object(k.jsx)(u.kc,{width:"100%",height:"52px"}):Object(k.jsx)(u.u,{isLoading:s,endIcon:s?Object(k.jsx)(u.i,{spin:!0,color:"currentColor"}):null,disabled:s,onClick:o,width:"100%",children:r("Enable")})})},cc=Object(g.e)(u.sb)(st||(st=Object(h.a)(["\n  width: 100%;\n"]))),ac=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(p.b)().t,a=Object(ke.a)().theme;return Object(k.jsxs)(u.Gb,{title:c("%symbol% required",{symbol:t}),onDismiss:n,headerBackground:a.colors.gradients.cardHeader,children:[Object(k.jsx)(u.Fc,{color:"failure",bold:!0,children:c("Insufficient %symbol% balance",{symbol:t})}),Object(k.jsx)(u.Fc,{mt:"24px",children:c("You\u2019ll need %symbol% to stake in this pool!",{symbol:t})}),Object(k.jsx)(u.Fc,{children:c("Buy some %symbol%, or make sure your %symbol% isn\u2019t in another pool or LP.",{symbol:t})}),Object(k.jsxs)(u.u,{mt:"24px",as:"a",external:!0,href:"/swap",children:[c("Buy")," ",t]}),Object(k.jsx)(cc,{href:"https://yieldwatch.net",external:!0,children:Object(k.jsxs)(u.u,{variant:"secondary",mt:"8px",width:"100%",children:[c("Locate Assets"),Object(k.jsx)(u.Rb,{color:"primary",ml:"4px"})]})}),Object(k.jsx)(u.u,{variant:"text",onClick:n,children:c("Close Window")})]})},rc=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.performanceFee,a=Object(f.j)(t.vaultKey),r=a.totalShares,i=a.userData,o=i.userShares,s=i.isLoading,l=a.pricePerFullShare,b=t.stakingToken,j=Object(Ie.b)(o,l),d=j.cakeAsBigNumber,m=j.cakeAsNumberBalance,x=Object(M.f)(),O=x.gt(0)?Object(le.g)(d.multipliedBy(x),b.decimals):0,h=Object(p.b)().t,g=Object(u.kd)(Object(k.jsx)(ac,{tokenSymbol:b.symbol})),v=Object(L.a)(g,1)[0],y=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:n,performanceFee:c,pool:t})),w=Object(L.a)(y,1)[0],S=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:d,pool:t,isRemovingStake:!0})),I=Object(L.a)(S,1)[0],C=o&&o.gt(0)&&r&&o.dividedBy(r).multipliedBy(100).decimalPlaces(5);return Object(k.jsxs)(u.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsxs)(u.cb,{flexDirection:"column",children:[Object(k.jsx)(Bn.a,{fontSize:"20px",bold:!0,value:m,decimals:5}),Object(k.jsxs)(u.Fc,{as:u.cb,fontSize:"12px",color:"textSubtle",flexWrap:"wrap",children:[x.gt(0)?Object(k.jsx)(Bn.a,{value:O,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(k.jsx)(u.kc,{mt:"1px",height:16,width:64}),!s&&C&&t.vaultKey===Kn.j.IfoPool&&Object(k.jsxs)(u.p,{as:"span",ml:"2px",children:["| ",h("%num% of total",{num:"".concat(C.toString(),"%")})]})]})]}),Object(k.jsxs)(u.cb,{children:[Object(k.jsx)(u.hb,{variant:"secondary",onClick:I,mr:"6px",children:Object(k.jsx)(u.Fb,{color:"primary",width:"24px"})}),Object(k.jsx)(u.hb,{variant:"secondary",onClick:n.gt(0)?w:v,children:Object(k.jsx)(u.a,{color:"primary",width:"24px",height:"24px"})})]})]})},ic=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.accountHasSharesStaked,a=e.performanceFee,r=e.isLoading,i=void 0!==r&&r,o=t.stakingToken,s=Object(p.b)().t,l=Object(u.kd)(Object(k.jsx)(ac,{tokenSymbol:o.symbol})),b=Object(L.a)(l,1)[0],j=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:n,pool:t,performanceFee:a})),d=Object(L.a)(j,1)[0];return Object(k.jsx)(u.cb,{flexDirection:"column",children:i?Object(k.jsx)(u.kc,{width:"100%",height:"52px"}):c?Object(k.jsx)(rc,{pool:t,stakingTokenBalance:n,performanceFee:a}):Object(k.jsx)(u.u,{onClick:n.gt(0)?d:b,children:s("Stake")})})},oc=Object(g.e)(u.Fc)(lt||(lt=Object(h.a)(["\n  display: inline;\n"]))),sc=function(e){var t=e.pool,n=Object(p.b)().t,c=Object(f.f)(),a=Object(le.g)(c),r=Object(le.h)(new B.a(a)),i=Object(M.f)(),o=i.gt(0)?Object(le.g)(r.multipliedBy(i),t.stakingToken.decimals):0;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(be.a,{gap:"4px",alignItems:"center",children:[Object(k.jsxs)(oc,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[n("Average")," "]}),Object(k.jsx)(oc,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n("Pool Balance")}),Object(k.jsx)(Xn.a,{size:"24px",placement:"auto",display:"inline",text:n("Max CAKE entry for both IFO sale is capped by average pool balance in this pool. This is calculated by the average block balance in the IFO pool in the past blocks prior to cut-off block.")})]}),Object(k.jsxs)(u.cb,{flexDirection:"column",pb:"16px",children:[Object(k.jsx)(Bn.a,{fontSize:"20px",bold:!0,value:a,decimals:5}),Object(k.jsx)(u.Fc,{fontSize:"12px",color:"textSubtle",display:"flex",children:i.gt(0)?Object(k.jsx)(Bn.a,{value:o,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(k.jsx)(u.kc,{mt:"1px",height:16,width:64})})]})]})},lc=function(e){var t=e.pool,n=e.accountHasSharesStaked,c=e.isLoading,a=e.performanceFee,r=t.stakingToken,i=t.userData,o=Object(p.b)().t,s=(null===i||void 0===i?void 0:i.stakingTokenBalance)?new B.a(i.stakingTokenBalance):N.c,l=tc(t.vaultKey),b=l.isVaultApproved,j=l.setLastUpdated;return Object(k.jsx)(u.cb,{flexDirection:"column",children:Object(k.jsxs)(u.cb,{flexDirection:"column",children:[n&&t.vaultKey===Kn.j.IfoPool&&Object(k.jsx)(sc,{pool:t}),Object(k.jsxs)(u.p,{display:"inline",children:[Object(k.jsxs)(oc,{color:n?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[n?r.symbol:o("Stake")," "]}),Object(k.jsx)(oc,{color:n?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n?o("Staked (compounding)"):"".concat(r.symbol)})]}),b?Object(k.jsx)(ic,{isLoading:c,pool:t,stakingTokenBalance:s,accountHasSharesStaked:n,performanceFee:a}):Object(k.jsx)(nc,{vaultKey:t.vaultKey,isLoading:c,setLastUpdated:j})]})})},bc=function(e){var t=e.cakeToDisplay,n=e.dollarValueToDisplay,c=e.dateStringToDisplay,a=Object(p.b)().t,r=Object(u.md)(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Bn.a,{fontSize:"16px",value:t,decimals:3,bold:!0,unit:" CAKE"}),Object(k.jsx)(Bn.a,{fontSize:"16px",value:n,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object(k.jsx)(u.Fc,{children:c})]}),{placement:"bottom-end"}),i=r.targetRef,o=r.tooltip,s=r.tooltipVisible;return Object(k.jsxs)(k.Fragment,{children:[s&&o,Object(k.jsx)(u.Qc,{ref:i,small:!0,children:Object(k.jsx)(Bn.a,{fontSize:"14px",value:t})})]})},uc=function(e){var t=e.vaultKey,n=Object(p.b)().t,c=Object(j.c)().account,a=Object(f.j)(t),r=a.pricePerFullShare,i=a.userData,o=i.cakeAtLastUserAction,s=i.userShares,l=i.lastUserActionTime,b=Object(M.f)(),d=Object(Ie.d)(c,o,s,r,b.toNumber()),m=d.hasAutoEarnings,x=d.autoCakeToDisplay,O=d.autoUsdToDisplay,h=l&&1e3*parseInt(l),g=new Date(h).toLocaleString();return Object(k.jsxs)(u.cb,{alignItems:"center",justifyContent:"space-between",children:[Object(k.jsx)(u.Fc,{fontSize:"14px",children:"".concat(n("Recent CAKE profit"),":")}),m&&Object(k.jsx)(bc,{cakeToDisplay:x,dollarValueToDisplay:O,dateStringToDisplay:g})]})},jc=["pool","showStakedOnly","defaultFooterExpanded"],dc=Object(g.e)(u.A)(bt||(bt=Object(h.a)(["\n  min-height: ",";\n"])),(function(e){return e.isLoading?"0":"254px"})),pc=function(e){var t=e.pool,n=e.showStakedOnly,c=e.defaultFooterExpanded,a=Object(fe.a)(e,jc),r=Object(p.b)().t,i=Object(j.c)().account,o=Object(f.j)(t.vaultKey),s=o.userData,l=s.userShares,b=s.isLoading,d=o.fees.performanceFeeAsDecimal,m=o.pricePerFullShare,x=Object(f.e)(),O=Object(u.md)(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Fc,{children:r("The start block of the current calculation period. Your average IFO CAKE Pool staking balance is calculated throughout this period.")}),Object(k.jsx)(u.tb,{href:"https://medium.com/pancakeswap/initial-farm-offering-ifo-3-0-ifo-staking-pool-622d8bd356f1",children:r("Check out our Medium article for more details.")})]}),{placement:"auto"}),h=O.tooltip,g=O.tooltipVisible,v=O.targetRef,y=Object(Ie.b)(l,m).cakeAsBigNumber,w=l&&l.gt(0),S=!t.userData||b;return n&&!w?null:Object(k.jsxs)(Mn,Object(T.a)(Object(T.a)({isActive:!0},a),{},{children:[Object(k.jsxs)(Jn,{isStaking:w,children:[Object(k.jsx)(qn,{title:r(Se.b[t.vaultKey].name),subTitle:r(Se.b[t.vaultKey].description)}),Object(k.jsx)(u.Pc,Object(T.a)(Object(T.a)({},Se.b[t.vaultKey].tokenImage),{},{width:64,height:64}))]}),Object(k.jsxs)(dc,{isLoading:S,children:[Object(k.jsx)(Rn,{pool:t,stakedBalance:y,performanceFee:d}),t.vaultKey===Kn.j.IfoPool&&Object(k.jsxs)(u.cb,{mt:"8px",justifyContent:"space-between",children:[Object(k.jsx)(u.Fc,{fontSize:"14px",children:r("Credit calculation starts:")}),Object(k.jsxs)(u.cb,{mr:"6px",alignItems:"center",children:[Object(k.jsx)(u.sb,{external:!0,href:Object(se.e)(x,"block"),mr:"4px",fontSize:"14px",children:x}),Object(k.jsx)("span",{ref:v,children:Object(k.jsx)(u.fb,{color:"textSubtle"})})]}),g&&h]}),Object(k.jsxs)(be.a,{mt:"16px",gap:"24px",flexDirection:w?"column-reverse":"column",children:[Object(k.jsxs)(u.p,{children:[Object(k.jsx)(u.p,{mt:"24px",children:Object(k.jsx)(uc,{vaultKey:t.vaultKey})}),Object(k.jsx)(u.p,{mt:"8px",children:Object(k.jsx)(Be,{vaultKey:t.vaultKey})})]}),Object(k.jsx)(u.cb,{flexDirection:"column",children:i?Object(k.jsx)(lc,{pool:t,accountHasSharesStaked:w,isLoading:S,performanceFee:d}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Fc,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:r("Start earning")}),Object(k.jsx)(Gt.a,{})]})})]})]}),Object(k.jsx)(Yn,{defaultExpanded:c,pool:t,account:i})]}))},mc=g.e.div(ut||(ut=Object(h.a)(["\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n\n  "," {\n    margin-left: 12px;\n    margin-right: 12px;\n    margin-bottom: 0;\n    height: ",";\n  }\n}\n\n  "," {\n    margin-left: 32px;\n    margin-right: 0;\n  }\n"])),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.isAutoVault?"130px":"auto"}),(function(e){return e.theme.mediaQueries.xl})),xc=g.e.div(jt||(jt=Object(h.a)(["\n  font-weight: 600;\n  font-size: 12px;\n"]))),Oc=g.e.div(dt||(dt=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),fc=Object(g.e)(u.u)(pt||(pt=Object(h.a)(["\n  flex-grow: 1;\n"]))),hc=function(e){var t=e.children,n=e.onClick;return Object(k.jsx)(fc,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},gc=n(965),kc=n(969),vc={gasLimit:U.j},yc=function(){var e=Object(D.a)(P.a.mark((function e(t,n){var c,a,r,i,o=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>2&&void 0!==o[2]?o[2]:18,a=Object(kc.a)(),e.next=4,t.deposit(new B.a(n).times(N.b.pow(c)).toString(),Object(T.a)(Object(T.a)({},vc),{},{gasPrice:a}));case 4:return r=e.sent,e.next=7,r.wait();case 7:return i=e.sent,e.abrupt("return",i.status);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wc=function(){var e=Object(D.a)(P.a.mark((function e(t,n){var c,a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(kc.a)(),e.next=3,t.deposit(new B.a(n).times(U.k).toString(),Object(T.a)(Object(T.a)({},vc),{},{gasPrice:c}));case 3:return a=e.sent,e.next=6,a.wait();case 6:return r=e.sent,e.abrupt("return",r.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Sc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(q.b)(),c=Object(j.c)(),a=c.account,r=Object(Y.l)(),i=Object(Y.t)(e),o=Object(m.useCallback)(function(){var c=Object(D.a)(P.a.mark((function c(o,s){return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(gc.d)(r,0,o);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,wc(i,o);case 8:c.next=12;break;case 10:return c.next=12,yc(i,o,s);case 12:n(Object(_.o)(e,a)),n(Object(_.m)(e,a));case 14:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,r,i,e]);return{onStake:o}},Ic=function(){var e=Object(D.a)(P.a.mark((function e(t,n,c){var a,r,i,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(kc.a)(),r=Object($t.parseUnits)(n,c),e.next=4,t.withdraw(r.toString(),{gasPrice:a});case 4:return i=e.sent,e.next=7,i.wait();case 7:return o=e.sent,e.abrupt("return",o.status);case 9:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Cc=function(){var e=Object(D.a)(P.a.mark((function e(t){var n,c,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(kc.a)(),e.next=3,t.emergencyWithdraw({gasPrice:n});case 3:return c=e.sent,e.next=6,c.wait();case 6:return a=e.sent,e.abrupt("return",a.status);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ac=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(q.b)(),c=Object(j.c)(),a=c.account,r=Object(Y.l)(),i=Object(Y.t)(e),o=Object(m.useCallback)(function(){var c=Object(D.a)(P.a.mark((function c(o,s){return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(gc.e)(r,0,o);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Cc(i);case 8:c.next=12;break;case 10:return c.next=12,Ic(i,o,s);case 12:n(Object(_.o)(e,a)),n(Object(_.m)(e,a)),n(Object(_.n)(e,a));case 15:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[a,n,t,r,i,e]);return{onUnstake:o}},Fc=Object(g.e)(u.sb)(mt||(mt=Object(h.a)(["\n  width: 100%;\n"]))),Pc=Object(g.e)(u.cb)(xt||(xt=Object(h.a)(["\n  cursor: pointer;\n"]))),Tc=Object(g.e)(u.Fc)(Ot||(Ot=Object(h.a)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]))),Dc=function(e){var t=e.isBnbPool,n=e.pool,c=e.stakingTokenBalance,a=e.stakingTokenPrice,r=e.isRemovingStake,i=void 0!==r&&r,o=e.onDismiss,s=n.sousId,l=n.stakingToken,b=n.earningTokenPrice,j=n.apr,d=n.userData,x=n.stakingLimit,O=n.earningToken,f=Object(p.b)().t,h=Object(ke.a)().theme,g=Sc(s,t).onStake,v=Ac(s,n.enableEmergencyWithdraw).onUnstake,y=Object(ce.a)(),w=y.toastSuccess,S=y.toastError,I=Object(m.useState)(!1),C=Object(L.a)(I,2),A=C[0],F=C[1],T=Object(m.useState)(""),E=Object(L.a)(T,2),U=E[0],K=E[1],z=Object(m.useState)(!1),R=Object(L.a)(z,2),M=R[0],N=R[1],H=Object(m.useState)(0),V=Object(L.a)(H,2),G=V[0],W=V[1],Q=Object(m.useState)(!1),$=Object(L.a)(Q,2),Y=$[0],_=$[1],q=function(){return i?d.stakedBalance:x.gt(0)&&c.gt(x)?x:c},J=Object(le.h)(new B.a(U),l.decimals),X=i?d.stakedBalance.lt(J):d.stakingTokenBalance.lt(J),Z=new B.a(U).times(a),ee=!Z.isNaN()&&Object(le.e)(Z.toNumber()),te=Object(ye.b)({principalInUSD:Z.isNaN()?0:Z.toNumber(),apr:j,earningTokenPrice:b})[3]*n.earningTokenPrice,ne=Object(le.e)(te,te>1e4?0:2,te>1e4?0:2),ae=l.address?"/swap?outputCurrency=".concat(l.address):"/swap";Object(m.useEffect)((function(){x.gt(0)&&!i&&N(J.plus(d.stakedBalance).gt(x))}),[U,x,d,l,i,N,J]);var re=function(e){if(e>0){var t=q().dividedBy(100).multipliedBy(e),n=Object(le.i)(t,l.decimals,l.decimals);K(n)}else K("");W(e)},ie=function(){var e=Object(D.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),e.prev=1,!i){e.next=8;break}return e.next=5,v(U,l.decimals);case 5:w("".concat(f("Unstaked"),"!"),f("Your %symbol% earnings have also been harvested to your wallet!",{symbol:O.symbol})),e.next=11;break;case 8:return e.next=10,g(U,l.decimals);case 10:w("".concat(f("Staked"),"!"),f("Your %symbol% funds have been staked in the pool!",{symbol:l.symbol}));case 11:F(!1),o(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),S(f("Error"),f("Please try again. Confirm the transaction and make sure you are paying enough gas!")),F(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Y?Object(k.jsx)(we.a,{earningTokenPrice:b,stakingTokenPrice:a,apr:j,linkLabel:f("Get %symbol%",{symbol:l.symbol}),linkHref:ae,stakingTokenBalance:d.stakedBalance.plus(c),stakingTokenSymbol:l.symbol,earningTokenSymbol:O.symbol,onBack:function(){return _(!1)},initialValue:U}):Object(k.jsxs)(u.Gb,{minWidth:"346px",title:f(i?"Unstake":"Stake in Pool"),onDismiss:o,headerBackground:h.colors.gradients.cardHeader,children:[x.gt(0)&&!i&&Object(k.jsx)(u.Fc,{color:"secondary",bold:!0,mb:"24px",style:{textAlign:"center"},fontSize:"16px",children:f("Max stake for this pool: %amount% %token%",{amount:Object(le.i)(x,l.decimals,0),token:l.symbol})}),Object(k.jsxs)(u.cb,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(k.jsxs)(u.Fc,{bold:!0,children:[f(i?"Unstake":"Stake"),":"]}),Object(k.jsxs)(u.cb,{alignItems:"center",minWidth:"70px",children:[Object(k.jsx)(u.ib,{src:"/images/tokens/".concat(l.address,".png"),width:24,height:24,alt:l.symbol}),Object(k.jsx)(u.Fc,{ml:"4px",bold:!0,children:l.symbol})]})]}),Object(k.jsx)(u.k,{value:U,onUserInput:function(e){if(e){var t=Object(le.h)(new B.a(e),l.decimals),n=Math.floor(t.dividedBy(q()).multipliedBy(100).toNumber());W(Math.min(n,100))}else W(0);K(e)},currencyValue:0!==a&&"~".concat(ee||0," USD"),isWarning:M||X,decimals:l.decimals}),M&&Object(k.jsx)(u.Fc,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:f("Maximum total stake: %amount% %token%",{amount:Object(le.i)(new B.a(x),l.decimals,0),token:l.symbol})}),X&&Object(k.jsx)(u.Fc,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:f("Insufficient %symbol% balance",{symbol:l.symbol})}),Object(k.jsx)(u.Fc,{ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:f("Balance: %balance%",{balance:Object(le.i)(q(),l.decimals)})}),Object(k.jsx)(u.lc,{min:0,max:100,value:G,onValueChanged:re,name:"stake",valueLabel:"".concat(G,"%"),step:1}),Object(k.jsxs)(u.cb,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(k.jsx)(hc,{onClick:function(){return re(25)},children:"25%"}),Object(k.jsx)(hc,{onClick:function(){return re(50)},children:"50%"}),Object(k.jsx)(hc,{onClick:function(){return re(75)},children:"75%"}),Object(k.jsx)(hc,{onClick:function(){return re(100)},children:f("Max")})]}),!i&&Object(k.jsxs)(u.cb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(k.jsxs)(u.Fc,{mr:"8px",color:"textSubtle",children:[f("Annual ROI at current rates"),":"]}),Number.isFinite(te)?Object(k.jsxs)(Pc,{alignItems:"center",onClick:function(){_(!0)},children:[Object(k.jsxs)(Tc,{children:["$",ne]}),Object(k.jsx)(u.hb,{variant:"text",scale:"sm",children:Object(k.jsx)(u.x,{color:"textSubtle",width:"18px"})})]}):Object(k.jsx)(u.kc,{width:60})]}),Object(k.jsx)(u.u,{isLoading:A,endIcon:A?Object(k.jsx)(u.i,{spin:!0,color:"currentColor"}):null,onClick:ie,disabled:!U||0===parseFloat(U)||M||X,mt:"24px",children:f(A?"Confirming":"Confirm")}),!i&&Object(k.jsx)(Fc,{external:!0,href:ae,children:Object(k.jsx)(u.u,{width:"100%",mt:"8px",variant:"secondary",children:f("Get %symbol%",{symbol:l.symbol})})})]})},Lc=g.e.div(ft||(ft=Object(h.a)(["\n  display: flex;\n"]))),Ec=function(e){var t=e.pool,n=e.userDataLoaded,c=t.sousId,a=t.stakingToken,r=t.earningToken,i=t.stakingLimit,o=t.isFinished,s=t.poolCategory,l=t.userData,b=t.stakingTokenPrice,d=t.vaultKey,x=Object(p.b)().t,O=Object(j.c)().account,h=function(e,t,n){var c=Object(m.useState)(!1),a=Object(L.a)(c,2),r=a[0],i=a[1],o=Object(ce.a)(),s=o.toastSuccess,l=o.toastError,b=Object(ie.a)().callWithGasPrice,u=Object(p.b)().t,d=Object(q.b)(),x=Object(j.c)().account,O=Object(Y.t)(t);return{handleApprove:Object(m.useCallback)(Object(D.a)(P.a.mark((function c(){var a,r;return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i(!0),c.next=4,b(e,"approve",[O.address,R.a.constants.MaxUint256]);case 4:return a=c.sent,c.next=7,a.wait();case 7:r=c.sent,d(Object(_.l)(t,x)),r.status?(s(u("Contract Enabled"),Object(k.jsx)(ee.b,{txHash:r.transactionHash,children:u("You can now stake in the %symbol% pool!",{symbol:n})})),i(!1)):(l(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),i(!1)),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(0),console.error(c.t0),l(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return c.stop()}}),c,null,[[0,12]])}))),[x,d,e,O,t,n,u,l,s,b]),requestedApproval:r}}(Object(Y.f)(a.address||""),c,r.symbol),g=h.handleApprove,v=h.requestedApproval,y=tc(t.vaultKey),w=y.isVaultApproved,S=y.setLastUpdated,I=ec(t.vaultKey,S),C=I.handleApprove,A=I.requestedApproval,F=d?C:g,T=d?A:v,E=s===te.c.BINANCE,U=(null===l||void 0===l?void 0:l.allowance)?new B.a(l.allowance):N.c,K=(null===l||void 0===l?void 0:l.stakedBalance)?new B.a(l.stakedBalance):N.c,z=!d&&K.gt(0),M=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new B.a(l.stakingTokenBalance):N.c,H=Object(le.g)(K,a.decimals),V=Object(le.g)(K.multipliedBy(b),a.decimals),G=Object(f.j)(t.vaultKey),W=G.userData.userShares,Q=G.pricePerFullShare,$=Object(Ie.b)(W,Q),J=$.cakeAsBigNumber,X=$.cakeAsNumberBalance,Z=W&&W.gt(0),ne=d&&Z,ae=Object(le.g)(J.multipliedBy(b),a.decimals),re=d?!w:!U.gt(0)&&!E,oe=Object(u.kd)(Object(k.jsx)(ac,{tokenSymbol:a.symbol})),se=Object(L.a)(oe,1)[0],be=Object(u.kd)(Object(k.jsx)(Dc,{isBnbPool:E,pool:t,stakingTokenBalance:M,stakingTokenPrice:b})),ue=Object(L.a)(be,1)[0],je=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:M,pool:t})),de=Object(L.a)(je,1)[0],pe=Object(u.kd)(Object(k.jsx)(Dc,{stakingTokenBalance:M,isBnbPool:E,pool:t,stakingTokenPrice:b,isRemovingStake:!0})),me=Object(L.a)(pe,1)[0],xe=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:J,pool:t,isRemovingStake:!0})),Oe=Object(L.a)(xe,1)[0],fe=function(){d?de():ue()},he=Object(u.md)(x("You've already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),ge=he.targetRef,ke=he.tooltip,ve=he.tooltipVisible,ye=i.gt(0)&&l.stakedBalance.gte(i);return O?n?re?Object(k.jsxs)(mc,{children:[Object(k.jsx)(xc,{children:Object(k.jsx)(u.Fc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:x("Enable pool")})}),Object(k.jsx)(Oc,{children:Object(k.jsx)(u.u,{width:"100%",disabled:T,onClick:F,variant:"secondary",children:x("Enable")})})]}):z||ne?Object(k.jsxs)(mc,{isAutoVault:!!d,children:[Object(k.jsxs)(xc,{children:[Object(k.jsxs)(u.Fc,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[a.symbol," "]}),Object(k.jsx)(u.Fc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:x(d?"Staked (compounding)":"Staked")})]}),Object(k.jsxs)(Oc,{children:[Object(k.jsxs)(u.cb,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:[Object(k.jsx)(Bn.a,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:d?X:H}),Object(k.jsx)(Bn.a,{fontSize:"12px",display:"inline",color:"textSubtle",decimals:2,value:d?ae:V,unit:" USD",prefix:"~"})]}),Object(k.jsxs)(Lc,{children:[Object(k.jsx)(u.hb,{variant:"secondary",onClick:function(){d?Oe():me()},mr:"6px",children:Object(k.jsx)(u.Fb,{color:"primary",width:"14px"})}),ye?Object(k.jsx)("span",{ref:ge,children:Object(k.jsx)(u.hb,{variant:"secondary",disabled:!0,children:Object(k.jsx)(u.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object(k.jsx)(u.hb,{variant:"secondary",onClick:M.gt(0)?fe:se,disabled:o,children:Object(k.jsx)(u.a,{color:"primary",width:"14px"})})]}),ve&&ke]})]}):Object(k.jsxs)(mc,{children:[Object(k.jsxs)(xc,{children:[Object(k.jsxs)(u.Fc,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[x("Stake")," "]}),Object(k.jsx)(u.Fc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:a.symbol})]}),Object(k.jsx)(Oc,{children:Object(k.jsx)(u.u,{width:"100%",onClick:M.gt(0)?fe:se,variant:"secondary",disabled:o,children:x("Stake")})})]}):Object(k.jsxs)(mc,{children:[Object(k.jsx)(xc,{children:Object(k.jsx)(u.Fc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:x("Start staking")})}),Object(k.jsx)(Oc,{children:Object(k.jsx)(u.kc,{width:180,height:"32px",marginTop:14})})]}):Object(k.jsxs)(mc,{children:[Object(k.jsx)(xc,{children:Object(k.jsx)(u.Fc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:x("Start staking")})}),Object(k.jsx)(Oc,{children:Object(k.jsx)(Gt.a,{width:"100%"})})]})},Bc=Object(g.e)(u.z)(ht||(ht=Object(h.a)(["\n  max-width: 400px;\n  width: 100%;\n"]))),Uc=Object(g.e)(u.cb)(gt||(gt=Object(h.a)(["\n  "," {\n    line-height: 1.2;\n    white-space: nowrap;\n  }\n"])),u.Fc),Kc=Object(g.e)(u.p)(kt||(kt=Object(h.a)(["\n  padding: 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.dropdown})),zc=Object(g.e)(u.A)(vt||(vt=Object(h.a)(["\n  display: grid;\n  padding: 16px;\n  background-color: ",";\n  gap: 16px;\n  "," {\n    margin: 0;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.dropdown}),mc,(function(e){return e.theme.colors.invertedContrast})),Rc=function(){var e=Object(f.h)(),t=e.pool,n=e.userDataLoaded,c=Object(Un.a)().account,a=Object(p.b)().t,r=Object(f.f)(),i=Object(f.g)().fees.performanceFeeAsDecimal,o=Object(m.useState)(!1),s=Object(L.a)(o,2),l=s[0],b=s[1],j=Object(f.e)(),d=Object(u.md)(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.Fc,{children:a("The start block of the current calculation period. Your average IFO CAKE Pool staking balance is calculated throughout this period.")}),Object(k.jsx)(u.tb,{href:"https://medium.com/pancakeswap/initial-farm-offering-ifo-3-0-ifo-staking-pool-622d8bd356f1",children:a("Check out our Medium article for more details.")})]}),{placement:"auto"}),x=d.tooltip,O=d.tooltipVisible,h=d.targetRef,g=Object(le.g)(r),v=Object(le.h)(new B.a(g)),y=Object(M.f)(),w=y.gt(0)?Object(le.g)(v.multipliedBy(y),t.stakingToken.decimals):0,S=Object(u.md)(a("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),{placement:"bottom"}),I=S.targetRef,C=S.tooltip,A=S.tooltipVisible;return Object(k.jsxs)(Bc,{isActive:!0,children:[Object(k.jsx)(u.C,{p:"16px",children:Object(k.jsxs)(u.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsxs)(Uc,{alignItems:"center",flex:1,children:[Object(k.jsx)(ge.b,{width:24,height:24,primaryToken:z.a.cake,secondaryToken:z.a.cake}),Object(k.jsxs)(u.p,{ml:"8px",children:[Object(k.jsx)(u.Fc,{fontSize:"12px",bold:!0,color:"secondary",textTransform:"uppercase",children:a("Staked")}),Object(k.jsx)(u.Fc,{small:!0,bold:!0,children:"IFO CAKE"}),Object(k.jsxs)(u.Fc,{color:"textSubtle",fontSize:"12px",children:[a("Stake")," CAKE"]})]})]}),Object(k.jsxs)(Uc,{flexDirection:"column",flex:1,children:[Object(k.jsx)(u.Fc,{color:"textSubtle",fontSize:"12px",children:a("Avg Balance")}),Object(k.jsx)(Bn.a,{small:!0,bold:!0,decimals:3,value:g}),Object(k.jsx)(Bn.a,{value:w,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),Object(k.jsx)(u.Z,{expanded:l,onClick:function(){return b((function(e){return!e}))}})]})}),l&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(zc,{children:[Object(k.jsx)(Rn,{pool:t,stakedBalance:v,performanceFee:i}),t.vaultKey===Kn.j.IfoPool&&Object(k.jsxs)(u.cb,{mt:"8px",justifyContent:"space-between",children:[Object(k.jsx)(u.Fc,{fontSize:"14px",children:a("Credit calculation starts:")}),Object(k.jsxs)(u.cb,{mr:"6px",alignItems:"center",children:[Object(k.jsx)(u.sb,{external:!0,href:Object(se.e)(j,"block"),mr:"4px",fontSize:"14px",children:j}),Object(k.jsx)("span",{ref:h,children:Object(k.jsx)(u.fb,{color:"textSubtle"})})]}),O&&x]}),Object(k.jsx)(mc,{children:Object(k.jsx)(sc,{pool:t})}),Object(k.jsx)(Ec,{pool:t,userDataLoaded:n}),Object(k.jsxs)(mc,{children:[Object(k.jsx)(u.p,{children:Object(k.jsx)(uc,{vaultKey:Kn.j.IfoPool})}),Object(k.jsx)(u.p,{mt:"8px",children:Object(k.jsx)(Be,{vaultKey:Kn.j.IfoPool})})]})]}),Object(k.jsxs)(Kc,{children:[Object(k.jsx)(Qn,{account:c,pool:t}),Object(k.jsxs)(u.cb,{alignItems:"center",children:[Object(k.jsx)(Nn.c,{}),A&&C,Object(k.jsx)(u.cb,{ref:I,children:Object(k.jsx)(u.fb,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]})]})]})]})},Mc=function(){var e=Object(f.h)().pool,t=Object(u.jd)(),n=t.isMd,c=t.isXs,a=t.isSm;return n||c||a?Object(k.jsx)(Rc,{}):Object(k.jsx)(pc,{pool:e,showStakedOnly:!1,m:"auto"})},Nc=n(977),Hc=function(e){return[{title:e("What\u2019s the difference between a Basic Sale and Unlimited Sale?"),description:[e("In the Basic Sale, every user can commit a maximum of about 100 USD worth of CAKE. We calculate the maximum CAKE amount about 30 minutes before each IFO. The Basic Sale has no participation fee."),e("In the Unlimited Sale, there\u2019s no limit to the amount of CAKE you can commit. However, there\u2019s a fee for participation: see below.")]},{title:e("Which sale should I commit to? Can I do both?"),description:[e("You can choose one or both at the same time! If you\u2019re only committing a small amount, we recommend the Basic Sale first. Just remember you need a PancakeSwap Profile in order to participate.")]},{title:e("How much is the participation fee?"),description:[e("There\u2019s only a participation fee for the Unlimited Sale: there\u2019s no fee for the Basic Sale."),e("The fee will start at 1%."),e("The 1% participation fee decreases in cliffs, based on the percentage of overflow from the \u201cUnlimited\u201d portion of the sale.")]},{title:e("Where does the participation fee go?"),description:[e("The CAKE from the participation fee will be thrown into the weekly token burn.")]},{title:e("How can I get an achievement for participating in the IFO?"),description:[e("You need to contribute a minimum of about 10 USD worth of CAKE to either sale."),e("You can contribute to one or both, it doesn\u2019t matter: only your overall contribution is counted for the achievement.")]}]},Vc=g.e.div(yt||(yt=Object(h.a)(["\n  flex: none;\n  order: 2;\n  max-width: 414px;\n  width: 100%;\n\n  "," {\n    order: 1;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Gc=g.e.div(wt||(wt=Object(h.a)(["\n  order: 1;\n  margin-bottom: 40px;\n\n  "," {\n    order: 2;\n    margin-bottom: 0;\n    margin-left: 40px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Wc=function(){var e=Object(p.b)().t;return Object(k.jsxs)(u.cb,{alignItems:["center",null,null,"start"],flexDirection:["column",null,null,"row"],children:[Object(k.jsx)(Vc,{children:Object(k.jsx)("img",{src:"/images/ifos/ifo-bunny.png",alt:"ifo bunny",width:"414px",height:"500px"})}),Object(k.jsx)(Gc,{children:Object(k.jsxs)(u.z,{children:[Object(k.jsx)(u.C,{children:Object(k.jsx)(u.eb,{scale:"lg",color:"secondary",children:e("Details")})}),Object(k.jsx)(u.A,{children:Hc(e).map((function(e,t,n){var c=e.title,a=e.description,r=n.length;return Object(k.jsx)(Nc.a,{id:c,mb:t+1===r?"":"24px",title:c,children:a.map((function(e){return Object(k.jsx)(u.Fc,{color:"textSubtle",as:"p",children:e},e)}))},c)}))})]})})]})},Qc=n(337),$c=n.n(Qc),Yc=Object(g.e)(d.a)(St||(St=Object(h.a)(["\n  background: ",";\n  margin-left: -16px;\n  margin-right: -16px;\n  padding-top: 48px;\n  padding-bottom: 48px;\n\n  "," {\n    margin-left: -24px;\n    margin-right: -24px;\n  }\n"])),(function(e){return e.theme.colors.gradients.bubblegum}),(function(e){return e.theme.mediaQueries.sm})),_c=Object(g.e)(u.sb)(It||(It=Object(h.a)(["\n  display: inline;\n"]))),qc=Object(g.e)(u.p)(Ct||(Ct=Object(h.a)(["\n  margin-top: 16px;\n  border: 1px solid ",";\n  background-color: ",";\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.colors.background})),Jc=function(e){var t,n=e.hasProfile,c=Object(p.b)().t,a=Object(f.g)(),r=Object(f.f)(),i=Object(f.h)().pool,o=Object(u.md)(Object(k.jsxs)(u.p,{children:[Object(k.jsx)("span",{children:c("Average pool balance is calculated by average block balance in the IFO pool in over the staking period announced with each IFO proposal.")})," ",Object(k.jsx)(_c,{external:!0,href:"https://medium.com/pancakeswap/initial-farm-offering-ifo-3-0-ifo-staking-pool-622d8bd356f1",children:c("Please refer to our blog post for more details.")})]}),{}),s=o.targetRef,l=o.tooltip,b=o.tooltipVisible,j=Object(M.f)(),d=j.gt(0)&&r?Object(le.g)(r.multipliedBy(j),18):0,m=(null===i||void 0===i||null===(t=i.userData)||void 0===t?void 0:t.stakingTokenBalance)?new B.a(i.userData.stakingTokenBalance):N.c,x=Object(u.kd)(Object(k.jsx)(Me,{stakingMax:m,performanceFee:a.fees.performanceFeeAsDecimal,pool:i})),O=Object(L.a)(x,1)[0];return Object(k.jsxs)(u.A,{children:[b&&l,Object(k.jsx)(u.eb,{as:"h4",color:"secondary",mb:"16px",children:c("Stake CAKE in IFO pool")}),Object(k.jsxs)(u.p,{children:[Object(k.jsx)(u.Fc,{color:"textSubtle",small:!0,children:c("The maximum amount of CAKE user can commit to all the sales combined, is equal to the average CAKE balance in the IFO CAKE pool prior to the IFO. Stake more CAKE to increase the maximum CAKE you can commit to the sale. Missed this IFO? You can keep staking in the IFO CAKE Pool to join the next IFO sale.")}),Object(k.jsx)(u.Qc,{as:"span",fontWeight:700,ref:s,color:"textSubtle",small:!0,children:c("How does the average balance calculated?")})]}),n&&Object(k.jsx)(qc,{borderRadius:"default",p:"16px",children:Object(k.jsxs)(be.a,{justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px",children:[Object(k.jsxs)(u.cb,{children:[Object(k.jsx)(u.Sb,{style:{alignSelf:"flex-start"},width:32,height:32}),Object(k.jsxs)(u.p,{ml:"16px",children:[Object(k.jsx)(u.Fc,{bold:!0,fontSize:"12px",textTransform:"uppercase",color:"secondary",children:c("Your max CAKE entry")}),Object(k.jsx)(Bn.a,{fontSize:"20px",bold:!0,decimals:5,value:Object(le.g)(r)}),Object(k.jsx)(u.Fc,{fontSize:"12px",color:"textSubtle",children:j.gt(0)?Object(k.jsx)(Bn.a,{value:d,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(k.jsx)(u.kc,{mt:"1px",height:16,width:64})})]})]}),Object(k.jsxs)(u.u,{onClick:O,children:[c("Stake")," CAKE"]})]})})]})},Xc=function(e){var t=e.hasProfile,n=e.isLive,c=e.isCommitted,a=Object(p.b)().t;return Object(k.jsxs)(u.A,{children:[Object(k.jsx)(u.eb,{as:"h4",color:"secondary",mb:"16px",children:a("Commit CAKE")}),Object(k.jsxs)(u.Fc,{color:"textSubtle",small:!0,children:[a("When the IFO sales are live, you can \u201ccommit\u201d your CAKE to buy the tokens being sold.")," ",Object(k.jsx)("br",{}),a("We recommend committing to the Basic Sale first, but you can do both if you like.")]}),t&&n&&!c&&Object(k.jsx)(u.u,{as:"a",href:"#current-ifo",mt:"16px",children:a("Commit CAKE")})]})},Zc=function(e){var t=e.ifo,n=e.walletIfoData,c=e.isLive,a=n.poolBasic,r=n.poolUnlimited,i=Object(Oe.d)().hasProfile,o=Object(j.c)().account,s=Object(p.b)().t,l=Object(Wt.b)(t.currency.address).balance,b=a.amountTokenCommittedInLP.isGreaterThan(0)||r.amountTokenCommittedInLP.isGreaterThan(0),d=[i,l.isGreaterThan(0),b,a.hasClaimed||r.hasClaimed],m=function(e){var t=0===e||$c()(d.slice(0,e),Boolean);return d[e]?t?"past":"future":t?"current":"future"},x=function(e){var t=d[e];switch(e){case 0:return Object(k.jsxs)(u.A,{children:[Object(k.jsx)(u.eb,{as:"h4",color:"secondary",mb:"16px",children:s("Activate your Profile")}),Object(k.jsx)(u.Fc,{color:"textSubtle",small:!0,mb:"16px",children:s("You\u2019ll need an active PancakeSwap Profile to take part in an IFO!")}),o?t?Object(k.jsxs)(u.cb,{alignItems:"center",children:[Object(k.jsx)(u.Fc,{color:"success",bold:!0,mr:"8px",children:s("Profile Active!")}),Object(k.jsx)(u.L,{color:"success"})]}):Object(k.jsx)(u.u,{as:Ht.a,to:"".concat(Vt.a,"/profile/").concat(o.toLowerCase()),children:s("Activate your Profile")}):Object(k.jsx)(Gt.a,{})]});case 1:return Object(k.jsx)(Jc,{hasProfile:i});case 2:return Object(k.jsx)(Xc,{hasProfile:i,isLive:c,isCommitted:b});case 3:return Object(k.jsxs)(u.A,{children:[Object(k.jsx)(u.eb,{as:"h4",color:"secondary",mb:"16px",children:s("Claim your tokens and achievement")}),Object(k.jsx)(u.Fc,{color:"textSubtle",small:!0,children:s("After the IFO sales finish, you can claim any IFO tokens that you bought, and any unspent CAKE tokens will be returned to your wallet.")})]});default:return null}};return Object(k.jsxs)(Yc,{children:[Object(k.jsx)(u.eb,{id:"ifo-how-to",as:"h2",scale:"xl",color:"secondary",mb:"24px",textAlign:"center",children:s("How to Take Part")}),Object(k.jsx)(u.rc,{children:d.map((function(e,t){return Object(k.jsx)(u.qc,{index:t,statusFirstPart:m(t),statusSecondPart:m(t+1),children:Object(k.jsx)(u.z,{children:x(t)})},t)}))})]})},ea=A.x.find((function(e){return e.isActive})),ta=function(){var e=Q(ea),t=Z(ea);return Object(k.jsxs)(En,{id:"current-ifo",py:["24px","24px","40px"],children:[Object(k.jsxs)(Ln,{children:[Object(k.jsx)(Mc,{}),Object(k.jsx)(An,{ifo:ea,publicIfoData:e,walletIfoData:t})]}),Object(k.jsx)(Zc,{isLive:"live"===e.status,ifo:ea,walletIfoData:t}),Object(k.jsx)(Wc,{})]})},na=n(477),ca=function(e){var t=e.address,n=e.releaseBlockNumber,c=Object(M.c)(e.currency.symbol),a=Object(m.useState)(Object($.a)({isInitialized:!1,status:"idle",blocksRemaining:0,secondsUntilStart:0,progress:5,secondsUntilEnd:0,startBlockNum:0,endBlockNum:0,numberPoints:null,thresholdPoints:void 0},te.d.poolUnlimited,{raisingAmountPool:N.c,totalAmountPool:N.c,offeringAmountPool:N.c,limitPerUserInLP:N.c,taxRate:0,sumTaxesOverflow:N.c})),r=Object(L.a)(a,2),i=r[0],o=r[1],s=Object(m.useCallback)(function(){var e=Object(D.a)(P.a.mark((function e(c){var a,r,i,s,l,b,u,j,d,p,m,x,O;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["startBlock","endBlock","raisingAmount","totalAmount"].map((function(e){return{address:t,name:e}})),e.next=3,Object(H.b)(na,a);case 3:r=e.sent,i=Object(L.a)(r,4),s=i[0],l=i[1],b=i[2],u=i[3],j=s?s[0].toNumber():0,d=l?l[0].toNumber():0,p=V(c,j,d),m=d-j,x=d-c,O=c>j?(c-j)/m*100:(c-n)/(j-n)*100,o((function(e){return Object(T.a)(Object(T.a)({},e),{},Object($.a)({isInitialized:!0,status:p,blocksRemaining:x,secondsUntilStart:(j-c)*U.h,progress:O,secondsUntilEnd:x*U.h,startBlockNum:j,endBlockNum:d},te.d.poolUnlimited,Object(T.a)(Object(T.a)({},e.poolUnlimited),{},{raisingAmountPool:b?new B.a(b[0].toString()):N.c,totalAmountPool:u?new B.a(u[0].toString()):N.c})))}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n]);return Object(T.a)(Object(T.a)({},i),{},{currencyPriceInUSD:c,fetchIfoData:s})},aa=Object($.a)({isInitialized:!1},te.d.poolUnlimited,{amountTokenCommittedInLP:N.c,hasClaimed:!1,isPendingTx:!1,offeringAmountInToken:N.c,refundingAmountInLP:N.c,taxAmountInLP:N.c}),ra=function(e){var t=Object(m.useState)(aa),n=Object(L.a)(t,2),c=n[0],a=n[1],r=e.address,i=e.currency,o=c.poolUnlimited,s=Object(j.c)().account,l=Object(Y.i)(r),b=Object(Y.f)(i.address),u=J(b,r,o.isPendingTx),d=Object(m.useCallback)(Object(D.a)(P.a.mark((function e(){var t,n,c,i,o,l,b;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["getOfferingAmount","userInfo","getRefundingAmount"].map((function(e){return{address:r,name:e,params:[s]}})),e.next=3,Object(H.b)(na,t);case 3:n=e.sent,c=Object(L.a)(n,3),i=c[0],o=c[1],l=c[2],b=o?{amount:new B.a(o.amount.toString()),claimed:o.claimed}:{amount:N.c,claimed:!1},a((function(e){return Object($.a)({isInitialized:!0},te.d.poolUnlimited,Object(T.a)(Object(T.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:b.amount,hasClaimed:b.claimed,offeringAmountInToken:i?new B.a(i[0].toString()):N.c,refundingAmountInLP:l?new B.a(l[0].toString()):N.c}))}));case 10:case"end":return e.stop()}}),e)}))),[s,r]),p=Object(m.useCallback)((function(){a(aa)}),[]);return Object(T.a)(Object(T.a)({},c),{},{allowance:u,contract:l,setPendingTx:function(e){return a((function(t){return Object(T.a)(Object(T.a)({},t),{},Object($.a)({},te.d.poolUnlimited,Object(T.a)(Object(T.a)({},t.poolUnlimited),{},{isPendingTx:e})))}))},setIsClaimed:function(){a((function(e){return Object(T.a)(Object(T.a)({},e),{},Object($.a)({},te.d.poolUnlimited,Object(T.a)(Object(T.a)({},e.poolUnlimited),{},{hasClaimed:!0})))}))},fetchIfoData:d,resetIfoData:p})},ia=function(e){var t=e.ifo,n=ca(t),c=ra(t);return Object(k.jsx)(Tn,{ifo:t,publicIfoData:n,walletIfoData:c})},oa={isInitialized:!1,poolBasic:{amountTokenCommittedInLP:N.c,offeringAmountInToken:N.c,refundingAmountInLP:N.c,taxAmountInLP:N.c,hasClaimed:!1,isPendingTx:!1},poolUnlimited:{amountTokenCommittedInLP:N.c,offeringAmountInToken:N.c,refundingAmountInLP:N.c,taxAmountInLP:N.c,hasClaimed:!1,isPendingTx:!1}},sa=function(e){var t=Object(m.useState)(oa),n=Object(L.a)(t,2),c=n[0],a=n[1],r=e.address,i=e.currency,o=Object(j.c)().account,s=Object(Y.j)(r),l=Object(Y.f)(i.address),b=J(l,r),u=Object(m.useCallback)(Object(D.a)(P.a.mark((function e(){var t,n,c,i,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["viewUserInfo","viewUserOfferingAndRefundingAmountsForPools"].map((function(e){return{address:r,name:e,params:[o,[0,1]]}})),e.next=3,Object(H.b)(K,t);case 3:n=e.sent,c=Object(L.a)(n,2),i=c[0],s=c[1],a((function(e){return Object(T.a)(Object(T.a)({},e),{},{isInitialized:!0,poolBasic:Object(T.a)(Object(T.a)({},e.poolBasic),{},{amountTokenCommittedInLP:new B.a(i[0][0].toString()),offeringAmountInToken:new B.a(s[0][0][0].toString()),refundingAmountInLP:new B.a(s[0][0][1].toString()),taxAmountInLP:new B.a(s[0][0][2].toString()),hasClaimed:i[1][0]}),poolUnlimited:Object(T.a)(Object(T.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:new B.a(i[0][1].toString()),offeringAmountInToken:new B.a(s[0][1][0].toString()),refundingAmountInLP:new B.a(s[0][1][1].toString()),taxAmountInLP:new B.a(s[0][1][2].toString()),hasClaimed:i[1][1]})})}));case 8:case"end":return e.stop()}}),e)}))),[o,r]),d=Object(m.useCallback)((function(){a(Object(T.a)({},oa))}),[]);return Object(T.a)(Object(T.a)({},c),{},{allowance:b,contract:s,setPendingTx:function(e,t){return a((function(n){return Object(T.a)(Object(T.a)({},n),{},Object($.a)({},t,Object(T.a)(Object(T.a)({},n[t]),{},{isPendingTx:e})))}))},setIsClaimed:function(e){a((function(t){return Object(T.a)(Object(T.a)({},t),{},Object($.a)({},e,Object(T.a)(Object(T.a)({},t[e]),{},{hasClaimed:!0})))}))},fetchIfoData:u,resetIfoData:d})},la=function(e){var t=e.ifo,n=Q(t),c=sa(t);return Object(k.jsx)(Tn,{ifo:t,publicIfoData:n,walletIfoData:c})},ba=function(e){var t=e.ifo,n=Q(t),c=Z(t);return Object(k.jsx)(Tn,{ifo:t,publicIfoData:n,walletIfoData:c})},ua=A.x.filter((function(e){return!e.isActive})),ja=function(){return Object(k.jsx)(En,{maxWidth:"736px",m:"auto",width:"100%",id:"past-ifos",py:["24px","24px","40px"],children:ua.map((function(e){switch(e.version){case 1:return Object(k.jsx)(ia,{ifo:e},e.id);case 2:return Object(k.jsx)(la,{ifo:e},e.id);case 3:return Object(k.jsx)(ba,{ifo:e},e.id);default:return null}}))})};t.default=function(){var e=Object(p.b)().t,t=Object(O.j)(),n=t.path,c=t.isExact,a=Object(j.c)().account;return Object(f.b)(),Object(f.c)(),Object(f.d)(a),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.uc,{items:[{label:e("Latest"),href:"/ifo"},{label:e("Finished"),href:"/ifo/history"}],activeItem:c?"/ifo":"/ifo/history"}),Object(k.jsx)(C,{}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(O.b,{exact:!0,path:"".concat(n),children:Object(k.jsx)(ta,{})}),Object(k.jsx)(O.b,{path:"".concat(n,"/history"),children:Object(k.jsx)(ja,{})})]})]})}},954:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return C})),n.d(t,"g",(function(){return A})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return T}));var c=n(5),a=n(14),r=n(3),i=n.n(r),o=n(11),s=n(0),l=n(30),b=n.n(l),u=n(88),j=n(27),d=n(115),p=n(117),m=n(183),x=n(45),O=n(309),f=n(457),h=n(36),g=n(479),k=function(){var e=Object(d.b)(),t=Object(m.a)().slowRefresh;Object(s.useEffect)((function(){(function(){var t=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.getBlockNumber();case 2:n=t.sent,e(Object(f.h)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),e(Object(f.i)())}),[e,t])},v=function(e){var t=Object(m.a)().fastRefresh,n=Object(d.b)();Object(s.useEffect)((function(){e&&n(Object(f.j)(e))}),[e,n,t])},y=function(){var e=Object(j.c)((function(e){return{pools:e.pools.data,userDataLoaded:e.pools.userDataLoaded}})),t=e.pools,n=e.userDataLoaded;return{pools:t.map(g.b),userDataLoaded:n}},w=function(){var e=Object(u.c)().account,t=Object(m.a)().fastRefresh,n=Object(d.b)();Object(s.useEffect)((function(){n(Object(f.f)())}),[n,t]),Object(s.useEffect)((function(){n(Object(f.g)({account:e}))}),[n,t,e]),Object(s.useEffect)((function(){n(Object(f.e)())}),[n])},S=function(){return C(h.j.CakeVault)},I=function(){var e;return e={},Object(a.a)(e,h.j.CakeVault,C(h.j.CakeVault)),Object(a.a)(e,h.j.IfoPool,C(h.j.IfoPool)),e},C=function(e){var t=Object(j.c)((function(t){return e?t.pools[e]:f.k})),n=t.totalShares,c=t.pricePerFullShare,a=t.totalCakeInVault,r=t.estimatedCakeBountyReward,i=t.totalPendingCakeHarvest,o=t.fees,l=o.performanceFee,u=o.callFee,d=o.withdrawalFee,p=o.withdrawalFeePeriod,m=t.userData,x=m.isLoading,O=m.userShares,h=m.cakeAtLastUserAction,g=m.lastDepositedTime,k=m.lastUserActionTime,v=Object(s.useMemo)((function(){return new b.a(r)}),[r]),y=Object(s.useMemo)((function(){return new b.a(i)}),[i]);return{totalShares:Object(s.useMemo)((function(){return new b.a(n)}),[n]),pricePerFullShare:Object(s.useMemo)((function(){return new b.a(c)}),[c]),totalCakeInVault:Object(s.useMemo)((function(){return new b.a(a)}),[a]),estimatedCakeBountyReward:v,totalPendingCakeHarvest:y,fees:{performanceFeeAsDecimal:l&&l/100,performanceFee:l,callFee:u,withdrawalFee:d,withdrawalFeePeriod:p},userData:{isLoading:x,userShares:Object(s.useMemo)((function(){return new b.a(O)}),[O]),cakeAtLastUserAction:Object(s.useMemo)((function(){return new b.a(h)}),[h]),lastDepositedTime:g,lastUserActionTime:k}}},A=function(){return C(h.j.IfoPool)},F=function(){return Object(j.c)((function(e){return e.pools.ifoPool.creditStartBlock}))},P=function(){var e=Object(j.c)((function(e){var t,n;return null!==(t=null===(n=e.pools.ifoPool.userData)||void 0===n?void 0:n.credit)&&void 0!==t?t:x.c}));return Object(s.useMemo)((function(){return new b.a(e)}),[e])},T=function(){var e=A().fees.performanceFeeAsDecimal,t=function(e){var t=Object(j.c)((function(t){return{pool:t.pools.data.find((function(t){return t.sousId===e})),userDataLoaded:t.pools.userDataLoaded}})),n=t.pool,c=t.userDataLoaded;return{pool:Object(g.b)(n),userDataLoaded:c}}(0),n=t.pool,a=t.userDataLoaded;return{pool:Object(s.useMemo)((function(){var t=Object(c.a)({},n);return t.vaultKey=h.j.IfoPool,t.apr=Object(O.c)(t,e).apr,t.rawApr=n.apr,t}),[e,n]),userDataLoaded:a}}},959:function(e,t,n){"use strict";var c=n(3),a=n.n(c),r=n(11),i=n(8),o=n(5),s=n(0),l=n(111),b=n(88),u=n(226),j=n(21),d={approvalState:"idle",confirmState:"idle"},p=function(e,t){switch(t.type){case"requires_approval":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_sending":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"fail"});default:return e}};t.a=function(e){var t=e.onApprove,n=e.onConfirm,c=e.onRequiresApproval,o=e.onSuccess,m=void 0===o?l.noop:o,x=e.onApproveSuccess,O=void 0===x?l.noop:x,f=Object(j.b)().t,h=Object(b.c)().account,g=Object(s.useReducer)(p,d),k=Object(i.a)(g,2),v=k[0],y=k[1],w=Object(s.useRef)(c),S=Object(u.a)().toastError;return Object(s.useEffect)((function(){h&&w.current&&w.current().then((function(e){e&&y({type:"requires_approval"})}))}),[h,w,y]),{isApproving:"loading"===v.approvalState,isApproved:"success"===v.approvalState,isConfirming:"loading"===v.confirmState,isConfirmed:"success"===v.confirmState,hasApproveFailed:"fail"===v.approvalState,hasConfirmFailed:"fail"===v.confirmState,handleApprove:function(){var e=Object(r.a)(a.a.mark((function e(){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,y({type:"approve_sending"}),e.next=7,n.wait();case 7:(c=e.sent).status&&(y({type:"approve_receipt"}),O({state:v,receipt:c})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),y({type:"approve_error"}),S(f("Error"),f("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(r.a)(a.a.mark((function e(){var t,c,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},y({type:"confirm_sending"}),e.prev=2,e.next=5,n(t);case 5:return c=e.sent,e.next=8,c.wait();case 8:(r=e.sent).status&&(y({type:"confirm_receipt"}),m({state:v,receipt:r})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),y({type:"confirm_error"}),S(f("Error"),f("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()}}},966:function(e,t,n){"use strict";var c=3600,a=86400,r=2629800,i=31557600;t.a=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=i&&(n.years=Math.floor(t/i),t-=n.years*i),t>=r&&(n.months=Math.floor(t/r),t-=n.months*r),t>=a&&(n.days=Math.floor(t/a),t-=n.days*a),t>=c&&(n.hours=Math.floor(t/c),t-=n.hours*c),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n}},970:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c,a,r,i,o,s=n(13),l=(n(0),n(7)),b=n(2),u=n(21),j=n(1);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(o||(o={}));var d=l.e.div(c||(c=Object(s.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),p=Object(l.e)(b.u)(a||(a=Object(s.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),m={width:"24px",color:"textDisabled"},x=Object(l.e)(b.O).attrs(m)(r||(r=Object(s.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),O=Object(l.e)(b.M).attrs(m)(i||(i=Object(s.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),f=Object(j.jsx)(b.i,{spin:!0,color:"currentColor"});t.b=function(e){var t=e.isApproveDisabled,n=e.isApproving,c=e.isConfirming,a=e.isConfirmDisabled,r=e.onApprove,i=e.onConfirm,s=e.buttonArrangement,l=void 0===s?o.ROW:s,m=e.confirmLabel,h=e.confirmId,g=Object(u.b)().t,k=null!==m&&void 0!==m?m:g("Confirm");return l===o.ROW?Object(j.jsxs)(d,{children:[Object(j.jsx)(b.p,{children:Object(j.jsx)(p,{disabled:t,onClick:r,endIcon:n?f:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})}),Object(j.jsxs)(b.cb,{justifyContent:"center",children:[Object(j.jsx)(x,{}),Object(j.jsx)(O,{})]}),Object(j.jsx)(b.p,{children:Object(j.jsx)(p,{id:h,onClick:i,disabled:a,isLoading:c,endIcon:c?f:void 0,children:c?g("Confirming"):k})})]}):Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(b.p,{children:Object(j.jsx)(p,{id:h,onClick:i,disabled:a,isLoading:c,endIcon:c?f:void 0,children:c?g("Confirming"):k})}):Object(j.jsx)(b.p,{children:Object(j.jsx)(p,{onClick:r,endIcon:n?f:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})})})}},977:function(e,t,n){"use strict";var c,a,r,i=n(5),o=n(8),s=n(69),l=n(13),b=n(0),u=n(7),j=n(2),d=n(21),p=n(1),m=["title","children"],x=Object(u.e)(j.cb)(c||(c=Object(l.a)(["\n  cursor: pointer;\n"]))),O=Object(u.e)(j.cb)(a||(a=Object(l.a)(["\n  button {\n    align-items: center;\n    justify-content: flex-start;\n  }\n"]))),f=Object(u.e)(j.cb)(r||(r=Object(l.a)(["\n  overflow: hidden;\n  height: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.isExpanded?"100%":"0px"}),(function(e){return e.isExpanded?"16px":"0px"}),(function(e){return e.theme.colors.inputSecondary}));t.a=function(e){var t=e.title,n=e.children,c=Object(s.a)(e,m),a=Object(d.b)().t,r=Object(b.useState)(!1),l=Object(o.a)(r,2),u=l[0],h=l[1];return Object(p.jsxs)(x,Object(i.a)(Object(i.a)({},c),{},{flexDirection:"column",onClick:function(){return h(!u)},children:[Object(p.jsxs)(j.cb,{justifyContent:"space-between",alignItems:"center",pb:"16px",children:[Object(p.jsx)(j.Fc,{fontWeight:"bold",children:t}),Object(p.jsx)(O,{children:Object(p.jsx)(j.ab,{expanded:u,onClick:function(){return h(!u)},children:a(u?"Hide":"Details")})})]}),Object(p.jsx)(f,{isExpanded:u,flexDirection:"column",children:n})]}))}}}]);
//# sourceMappingURL=24.56764630.chunk.js.map